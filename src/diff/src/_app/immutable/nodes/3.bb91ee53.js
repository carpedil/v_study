import{s as P,n as K,o as M,r as de}from"../chunks/scheduler.e108d1fd.js";import{S as j,i as H,g as b,s as I,m as T,H as ee,h as w,j as k,c as D,x as B,n as q,f as m,C as te,k as _,a as y,y as g,A as N,o as O,r as Y,u as z,v as G,d as J,t as R,w as W,e as le,B as Q,z as se}from"../chunks/index.3aeff6f3.js";import{e as A}from"../chunks/each.e59479a4.js";function he(r){let e,l,t,n,o,s,u='<input type="checkbox" value="10.9.64.28" id="old" name="test_srv_list" checked=""/> 10.9.64.28',h,f,c='<input type="checkbox" value="10.162.138.83" id="new" name="test_srv_list" checked=""/> 10.162.138.83',a,i,v,d,p,E,$,S,F,X;return{c(){e=b("div"),l=b("div"),t=b("div"),n=b("input"),o=I(),s=b("label"),s.innerHTML=u,h=T(`
			|
			`),f=b("label"),f.innerHTML=c,a=I(),i=T(r[0]),v=I(),d=b("div"),p=new ee(!1),E=I(),$=b("div"),S=new ee(!1),this.h()},l(V){e=w(V,"DIV",{class:!0});var C=k(e);l=w(C,"DIV",{class:!0});var U=k(l);t=w(U,"DIV",{class:!0});var L=k(t);n=w(L,"INPUT",{type:!0,class:!0}),o=D(L),s=w(L,"LABEL",{for:!0,"data-svelte-h":!0}),B(s)!=="svelte-wwm7kw"&&(s.innerHTML=u),h=q(L,`
			|
			`),f=w(L,"LABEL",{for:!0,"data-svelte-h":!0}),B(f)!=="svelte-bzt65i"&&(f.innerHTML=c),L.forEach(m),a=D(U),i=q(U,r[0]),U.forEach(m),v=D(C),d=w(C,"DIV",{class:!0});var Z=k(d);p=te(Z,!1),Z.forEach(m),E=D(C),$=w(C,"DIV",{class:!0});var x=k($);S=te(x,!1),x.forEach(m),C.forEach(m),this.h()},h(){_(n,"type","button"),n.value="SEND",_(n,"class","border pl-2 pr-2 mr-5 bg-blue-600 text-white rounded-md"),_(s,"for","old"),_(f,"for","new"),_(t,"class","w-full border-2 border-b-black"),_(l,"class","border w-full h-[73vh] p-1"),p.a=null,_(d,"class","border w-full h-[73vh] p-1"),S.a=null,_($,"class","border w-full h-[73vh] p-1"),_(e,"class","flex flex-col justify-evenly border w-full h-[73vh] p-1")},m(V,C){y(V,e,C),g(e,l),g(l,t),g(t,n),g(t,o),g(t,s),g(t,h),g(t,f),g(l,a),g(l,i),g(e,v),g(e,d),p.m(r[1],d),g(e,E),g(e,$),S.m(r[1],$),F||(X=N(n,"click",r[2]),F=!0)},p(V,[C]){C&1&&O(i,V[0]),C&2&&p.p(V[1]),C&2&&S.p(V[1])},i:K,o:K,d(V){V&&m(e),F=!1,X()}}}function _e(r,e,l){let{msg:t}=e,n=[],o="";const s=async()=>{if(n=u(),t.length<=1){alert("Api message can not be send with nothing, Select the api to be tested and enter the correct test data.");return}if(n.length==0){alert("The IP address of the server to be tested cannot be empty. Select at least one of the server IP addresses to send test information.");return}console.log(`Sending msg ${t} to ${n.toString()}`);const c=await(await fetch("http://localhost:8082/api/message/send",{method:"POST",body:JSON.stringify({msg:t,srv_ip_list:n})})).json();console.log(c),l(1,o=h(t))},u=()=>{let f=[],c=document.getElementsByName("test_srv_list");for(let a=0;a<c.length;a++){let i=c[a];i.checked&&f.push(i.value)}return console.log(f),f},h=f=>{let c="",a=new WebSocket("ws://localhost:30000");return a.onopen=function(i){console.log("[open] Connection established"),console.log("Sending to server"),a.send(f)},a.onmessage=function(i){console.log(`[message] Data received from server: ${i.data}`),c=i.data,console.log("callback_msg=",c)},a.onclose=function(i){i.wasClean?console.log(`[close] Connection closed cleanly, code=${i.code} reason=${i.reason}`):alert("[close] Connection died")},a.onerror=function(i){alert(`[error]${JSON.stringify(i,null,4)}`)},c};return M(()=>{console.log("msg:",t,t.length)}),r.$$set=f=>{"msg"in f&&l(0,t=f.msg)},r.$$.update=()=>{r.$$.dirty&2&&console.log(o)},[t,o,s]}class pe extends j{constructor(e){super(),H(this,e,_e,he,P,{msg:0})}}function ae(r,e,l){const t=r.slice();return t[4]=e[l],t[5]=e,t[6]=l,t}function ne(r){let e,l=(r[0].api_content===""?"":r[0].api_content)+"",t,n;return{c(){e=b("div"),t=T(l),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);t=q(s,l),s.forEach(m),this.h()},h(){_(e,"class",n=r[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")},m(o,s){y(o,e,s),g(e,t)},p(o,s){s&1&&l!==(l=(o[0].api_content===""?"":o[0].api_content)+"")&&O(t,l),s&1&&n!==(n=o[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")&&_(e,"class",n)},d(o){o&&m(e)}}}function re(r){let e,l=A(r[0].api_param),t=[];for(let n=0;n<l.length;n+=1)t[n]=ie(ae(r,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=le()},l(n){for(let o=0;o<t.length;o+=1)t[o].l(n);e=le()},m(n,o){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(n,o);y(n,e,o)},p(n,o){if(o&1){l=A(n[0].api_param);let s;for(s=0;s<l.length;s+=1){const u=ae(n,l,s);t[s]?t[s].p(u,o):(t[s]=ie(u),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(n){n&&m(e),Q(t,n)}}}function ie(r){let e,l,t=r[4].key+"",n,o,s,u,h,f,c,a,i,v;function d(){r[2].call(s,r[5],r[6])}function p(){return r[3](r[4],r[5],r[6])}return{c(){e=b("div"),l=b("label"),n=T(t),o=T("="),s=b("input"),a=I(),this.h()},l(E){e=w(E,"DIV",{class:!0});var $=k(e);l=w($,"LABEL",{for:!0,class:!0});var S=k(l);n=q(S,t),o=q(S,"="),s=w(S,"INPUT",{type:!0,name:!0,id:!0,class:!0}),S.forEach(m),a=D($),$.forEach(m),this.h()},h(){_(s,"type","text"),_(s,"name",u=r[4].key),_(s,"id",h=r[4].key),s.required=f=r[4].is_required,_(s,"class","w-[24vw] border float-right text-left text-slate-600 bg-slate-300"),_(l,"for",c=r[4].key),_(l,"class","w-[10vw]"),_(e,"class","border")},m(E,$){y(E,e,$),g(e,l),g(l,n),g(l,o),g(l,s),se(s,r[4].value),g(e,a),i||(v=[N(s,"input",d),N(s,"change",p)],i=!0)},p(E,$){r=E,$&1&&t!==(t=r[4].key+"")&&O(n,t),$&1&&u!==(u=r[4].key)&&_(s,"name",u),$&1&&h!==(h=r[4].key)&&_(s,"id",h),$&1&&f!==(f=r[4].is_required)&&(s.required=f),$&1&&s.value!==r[4].value&&se(s,r[4].value),$&1&&c!==(c=r[4].key)&&_(l,"for",c)},d(E){E&&m(e),i=!1,de(v)}}}function ve(r){let e,l,t,n,o,s,u,h,f=r[0]!=null&&ne(r),c=r[0]!=null&&re(r);return u=new pe({props:{msg:r[1]}}),{c(){e=b("div"),f&&f.c(),l=I(),t=b("div"),n=b("div"),o=b("div"),c&&c.c(),s=I(),Y(u.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var i=k(e);f&&f.l(i),i.forEach(m),l=D(a),t=w(a,"DIV",{class:!0});var v=k(t);n=w(v,"DIV",{class:!0});var d=k(n);o=w(d,"DIV",{class:!0});var p=k(o);c&&c.l(p),p.forEach(m),s=D(d),z(u.$$.fragment,d),d.forEach(m),v.forEach(m),this.h()},h(){_(e,"class","border-2 bg-white h-[7vh] w-full p-1 flex items-center"),_(o,"class","border w-[55vw] h-[73vh] p-1"),_(n,"class","flex flex-row justify-evenly"),_(t,"class","bg-white h-[73vh] p-1")},m(a,i){y(a,e,i),f&&f.m(e,null),y(a,l,i),y(a,t,i),g(t,n),g(n,o),c&&c.m(o,null),g(n,s),G(u,n,null),h=!0},p(a,[i]){a[0]!=null?f?f.p(a,i):(f=ne(a),f.c(),f.m(e,null)):f&&(f.d(1),f=null),a[0]!=null?c?c.p(a,i):(c=re(a),c.c(),c.m(o,null)):c&&(c.d(1),c=null);const v={};i&2&&(v.msg=a[1]),u.$set(v)},i(a){h||(J(u.$$.fragment,a),h=!0)},o(a){R(u.$$.fragment,a),h=!1},d(a){a&&(m(e),m(l),m(t)),f&&f.d(),c&&c.d(),W(u)}}}function me(r,e,l){let{api:t}=e,n="";function o(u,h){u[h].value=this.value,l(0,t)}const s=(u,h,f)=>l(0,h[f].value=u.value.toUpperCase(),t);return r.$$set=u=>{"api"in u&&l(0,t=u.api)},r.$$.update=()=>{if(r.$$.dirty&1){let u="";t!=null&&t.api_param.forEach(h=>{u+=`${h.key}=${h.value.includes(" ")&&h.key!="HDR"?`"${h.value.toUpperCase()}" `:`${h.value.toUpperCase()} `} `}),l(1,n=`${t==null?void 0:t.api_name} ${u}`)}},[t,n,o,s]}class ge extends j{constructor(e){super(),H(this,e,me,ve,P,{api:0})}}function oe(r,e,l){const t=r.slice();return t[1]=e[l],t}function ue(r){let e,l,t,n,o;return{c(){e=b("input"),this.h()},l(s){e=w(s,"INPUT",{type:!0,class:!0}),this.h()},h(){_(e,"type","button"),e.value=l=r[1].api_name,_(e,"class",t="border "+(r[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")},m(s,u){y(s,e,u),n||(o=N(e,"click",r[2]),n=!0)},p(s,u){u&1&&l!==(l=s[1].api_name)&&(e.value=l),u&1&&t!==(t="border "+(s[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")&&_(e,"class",t)},d(s){s&&m(e),n=!1,o()}}}function be(r){let e,l,t="API LIST:",n,o,s,u,h,f=A(r[0]),c=[];for(let a=0;a<f.length;a+=1)c[a]=ue(oe(r,f,a));return u=new ge({props:{api:r[1]}}),{c(){e=b("div"),l=b("span"),l.textContent=t,n=I(),o=b("div");for(let a=0;a<c.length;a+=1)c[a].c();s=I(),Y(u.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var i=k(e);l=w(i,"SPAN",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-1j6fakd"&&(l.textContent=t),n=D(i),o=w(i,"DIV",{class:!0});var v=k(o);for(let d=0;d<c.length;d+=1)c[d].l(v);v.forEach(m),i.forEach(m),s=D(a),z(u.$$.fragment,a),this.h()},h(){_(l,"class","border border-t-0 border-l-0 border-r-0"),_(o,"class","h-[12vh] w-full float-left overflow-y-scroll scroll-auto"),_(e,"class","border bg-white h-[15vh] p-1")},m(a,i){y(a,e,i),g(e,l),g(e,n),g(e,o);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(o,null);y(a,s,i),G(u,a,i),h=!0},p(a,[i]){if(i&5){f=A(a[0]);let d;for(d=0;d<f.length;d+=1){const p=oe(a,f,d);c[d]?c[d].p(p,i):(c[d]=ue(p),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=f.length}const v={};i&2&&(v.api=a[1]),u.$set(v)},i(a){h||(J(u.$$.fragment,a),h=!0)},o(a){R(u.$$.fragment,a),h=!1},d(a){a&&(m(e),m(s)),Q(c,a),W(u,a)}}}function we(r,e,l){let{api_list:t=[]}=e,n={id:0,srv_id:0,api_name:"",api_content:"",api_param:[],test_count:0,is_inuse:"Y"};M(()=>{console.log(t)});const o=s=>{s.preventDefault();const u=s.target.getAttribute("value");l(1,n=t.find(h=>h.api_name===u)),console.log(n)};return r.$$set=s=>{"api_list"in s&&l(0,t=s.api_list)},[t,n,o]}class $e extends j{constructor(e){super(),H(this,e,we,be,P,{api_list:0})}}function ce(r,e,l){const t=r.slice();return t[3]=e[l],t}function fe(r){let e,l,t,n,o,s,u,h=r[3].srv_name+"",f,c,a,i,v;return{c(){e=b("label"),l=b("input"),u=I(),f=T(h),c=I(),this.h()},l(d){e=w(d,"LABEL",{for:!0});var p=k(e);l=w(p,"INPUT",{type:!0,name:!0,id:!0,"data-srv_id":!0,class:!0}),u=D(p),f=q(p,h),c=D(p),p.forEach(m),this.h()},h(){_(l,"type","radio"),_(l,"name","srvlist"),_(l,"id",t=r[3].id),l.value=n=r[3].srv_name,l.checked=o=r[3].id=="1",_(l,"data-srv_id",s=r[3].id),_(l,"class","border text-left w-auto p-0.5 hover:text-white hover:bg-red-500 focus:bg-red-600 focus:text-white rounded-sm"),_(e,"for",a=r[3].id)},m(d,p){y(d,e,p),g(e,l),g(e,u),g(e,f),g(e,c),i||(v=N(l,"click",r[2]),i=!0)},p(d,p){p&1&&t!==(t=d[3].id)&&_(l,"id",t),p&1&&n!==(n=d[3].srv_name)&&(l.value=n),p&1&&o!==(o=d[3].id=="1")&&(l.checked=o),p&1&&s!==(s=d[3].id)&&_(l,"data-srv_id",s),p&1&&h!==(h=d[3].srv_name+"")&&O(f,h),p&1&&a!==(a=d[3].id)&&_(e,"for",a)},d(d){d&&m(e),i=!1,v()}}}function ke(r){let e,l,t="SRV LIST:",n,o,s,u,h,f,c=A(r[0]),a=[];for(let i=0;i<c.length;i+=1)a[i]=fe(ce(r,c,i));return h=new $e({props:{api_list:r[1].api_list}}),{c(){e=b("div"),l=b("span"),l.textContent=t,n=I(),o=b("div");for(let i=0;i<a.length;i+=1)a[i].c();s=I(),u=b("div"),Y(h.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var v=k(e);l=w(v,"SPAN",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-11uywqa"&&(l.textContent=t),n=D(v),o=w(v,"DIV",{class:!0});var d=k(o);for(let E=0;E<a.length;E+=1)a[E].l(d);d.forEach(m),v.forEach(m),s=D(i),u=w(i,"DIV",{class:!0});var p=k(u);z(h.$$.fragment,p),p.forEach(m),this.h()},h(){_(l,"class","border-t-0 border-l-0 border-r-0 border"),_(o,"class","flex flex-col"),_(e,"class","border w-[12vw] p-1"),_(u,"class","border w-[90vw] ml-1")},m(i,v){y(i,e,v),g(e,l),g(e,n),g(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);y(i,s,v),y(i,u,v),G(h,u,null),f=!0},p(i,[v]){if(v&5){c=A(i[0]);let p;for(p=0;p<c.length;p+=1){const E=ce(i,c,p);a[p]?a[p].p(E,v):(a[p]=fe(E),a[p].c(),a[p].m(o,null))}for(;p<a.length;p+=1)a[p].d(1);a.length=c.length}const d={};v&2&&(d.api_list=i[1].api_list),h.$set(d)},i(i){f||(J(h.$$.fragment,i),f=!0)},o(i){R(h.$$.fragment,i),f=!1},d(i){i&&(m(e),m(s),m(u)),Q(a,i),W(h)}}}function Ee(r,e,l){let t=[],n={id:"",srv_name:"",default_hdr:"",api_list:[]};return M(async()=>{const u=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();l(0,t=u),console.log(t),l(1,n=t[0])}),[t,n,s=>{let u=s.target.dataset.srv_id;l(1,n=t[u-1])}]}class ye extends j{constructor(e){super(),H(this,e,Ee,ke,P,{})}}function Ie(r){let e,l,t;return l=new ye({}),{c(){e=b("div"),Y(l.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var o=k(e);z(l.$$.fragment,o),o.forEach(m),this.h()},h(){_(e,"class","flex flex-row justify-start border w-full h-screen p-1")},m(n,o){y(n,e,o),G(l,e,null),t=!0},p:K,i(n){t||(J(l.$$.fragment,n),t=!0)},o(n){R(l.$$.fragment,n),t=!1},d(n){n&&m(e),W(l)}}}function De(r){let e="";return M(async()=>{e=await(await fetch("http://localhost:8082/api/test/hello",{method:"GET"})).json(),console.log(e)}),[]}class Le extends j{constructor(e){super(),H(this,e,De,Ie,P,{})}}export{Le as component};
