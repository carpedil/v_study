import{s as Gt,n as Jt,r as Wt,o as Ft}from"../chunks/scheduler.e108d1fd.js";import{S as Kt,i as Qt,g as r,m as F,s as w,h as o,j as g,n as K,f as v,c as I,x as ht,k as l,a as Vt,y as t,z as St,A as vt,o as ot,B as Mt}from"../chunks/index.3aeff6f3.js";import{e as Et}from"../chunks/each.e59479a4.js";function Ut(n,e,d){const c=n.slice();return c[14]=e[d],c[16]=d,c}function Yt(n,e,d){const c=n.slice();return c[17]=e[d],c}function Bt(n){let e,d=n[17].srv_name+"",c,p,S;return{c(){e=r("option"),c=F(d),this.h()},l(h){e=o(h,"OPTION",{});var _=g(e);c=K(_,d),_.forEach(v),this.h()},h(){e.__value=p=n[17].id,St(e,e.__value),e.selected=S=n[17].id==localStorage.getItem("selected_srv_id")},m(h,_){Vt(h,e,_),t(e,c)},p(h,_){_&2&&d!==(d=h[17].srv_name+"")&&ot(c,d),_&2&&p!==(p=h[17].id)&&(e.__value=p,St(e,e.__value)),_&2&&S!==(S=h[17].id==localStorage.getItem("selected_srv_id"))&&(e.selected=S)},d(h){h&&v(e)}}}function zt(n){let e,d,c=n[16]+1+"",p,S,h,_=n[14].api_name+"",U,P,k,j=n[14].api_content+"",Y,q,R,J=n[14].is_inuse+"",O,a,f,m,y=n[14].test_count+"",x,tt,T,L,C,B,b,E,M,z,X,et,W;return{c(){e=r("tr"),d=r("td"),p=F(c),S=w(),h=r("td"),U=F(_),P=w(),k=r("td"),Y=F(j),q=w(),R=r("td"),O=F(J),f=w(),m=r("td"),x=F(y),tt=w(),T=r("td"),L=r("input"),B=w(),b=r("input"),X=w(),this.h()},l(N){e=o(N,"TR",{});var u=g(e);d=o(u,"TD",{class:!0});var Q=g(d);p=K(Q,c),Q.forEach(v),S=I(u),h=o(u,"TD",{class:!0});var ft=g(h);U=K(ft,_),ft.forEach(v),P=I(u),k=o(u,"TD",{class:!0});var nt=g(k);Y=K(nt,j),nt.forEach(v),q=I(u),R=o(u,"TD",{class:!0});var G=g(R);O=K(G,J),G.forEach(v),f=I(u),m=o(u,"TD",{class:!0});var pt=g(m);x=K(pt,y),pt.forEach(v),tt=I(u),T=o(u,"TD",{class:!0});var Z=g(T);L=o(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0}),B=I(Z),b=o(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0,"data-validation":!0}),Z.forEach(v),X=I(u),u.forEach(v),this.h()},h(){l(d,"class","border text-center"),l(h,"class","border"),l(k,"class","border"),l(R,"class",a="border text-center "+(n[14].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm"),l(m,"class","border text-center"),l(L,"type","button"),L.value="DEL",l(L,"class","text-red-500"),l(L,"data-api_id",C=n[14].id),l(b,"type","button"),b.value=E=n[14].is_inuse=="Y"?"INVLALID":"VALID",l(b,"class","text-blue-500"),l(b,"data-api_id",M=n[14].id),l(b,"data-validation",z=n[14].is_inuse),l(T,"class","border text-center float-left")},m(N,u){Vt(N,e,u),t(e,d),t(d,p),t(e,S),t(e,h),t(h,U),t(e,P),t(e,k),t(k,Y),t(e,q),t(e,R),t(R,O),t(e,f),t(e,m),t(m,x),t(e,tt),t(e,T),t(T,L),t(T,B),t(T,b),t(e,X),et||(W=[vt(L,"click",n[6]),vt(b,"click",n[7])],et=!0)},p(N,u){u&1&&_!==(_=N[14].api_name+"")&&ot(U,_),u&1&&j!==(j=N[14].api_content+"")&&ot(Y,j),u&1&&J!==(J=N[14].is_inuse+"")&&ot(O,J),u&1&&a!==(a="border text-center "+(N[14].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm")&&l(R,"class",a),u&1&&y!==(y=N[14].test_count+"")&&ot(x,y),u&1&&C!==(C=N[14].id)&&l(L,"data-api_id",C),u&1&&E!==(E=N[14].is_inuse=="Y"?"INVLALID":"VALID")&&(b.value=E),u&1&&M!==(M=N[14].id)&&l(b,"data-api_id",M),u&1&&z!==(z=N[14].is_inuse)&&l(b,"data-validation",z)},d(N){N&&v(e),et=!1,Wt(W)}}}function Xt(n){let e,d,c,p,S,h,_,U,P,k,j,Y,q,R='<div>API CONTENT:</div> <div><input class="border w-full" id="api_content" name="api_content" placeholder="Enter the Api Content."/></div>',J,O,a,f,m,y,x,tt,T,L,C,B,b,E,M,z=n[0].length+"",X,et,W,N="API_NAME",u,Q,ft="API CONTENT",nt,G,pt="VALID",Z,lt,Pt="TEST CNT",Tt,at,Ot="OPERATION",Nt,At,Dt,yt,it,mt,gt=(n[2]?n[2]:"")+"",wt,Ct,Lt,dt=Et(n[1]),A=[];for(let i=0;i<dt.length;i+=1)A[i]=Bt(Yt(n,dt,i));let ut=Et(n[0]),D=[];for(let i=0;i<ut.length;i+=1)D[i]=zt(Ut(n,ut,i));return{c(){e=r("div"),d=r("div"),c=r("div"),p=r("div"),S=r("div"),h=F(`SRV NAME:

					`),_=r("select");for(let i=0;i<A.length;i+=1)A[i].c();U=w(),P=r("input"),k=w(),j=r("hr"),Y=w(),q=r("div"),q.innerHTML=R,J=w(),O=r("div"),a=r("div"),f=F(`SRV NAME:
				`),m=r("input"),y=w(),x=r("input"),tt=w(),T=r("input"),L=w(),C=r("div"),B=r("div"),b=r("table"),E=r("tr"),M=r("th"),X=F(z),et=w(),W=r("th"),W.textContent=N,u=w(),Q=r("th"),Q.textContent=ft,nt=w(),G=r("th"),G.textContent=pt,Z=w(),lt=r("th"),lt.textContent=Pt,Tt=w(),at=r("th"),at.textContent=Ot,Nt=w();for(let i=0;i<D.length;i+=1)D[i].c();At=w(),Dt=r("hr"),yt=w(),it=r("div"),mt=r("pre"),wt=F(gt),this.h()},l(i){e=o(i,"DIV",{class:!0});var V=g(e);d=o(V,"DIV",{class:!0});var s=g(d);c=o(s,"DIV",{class:!0});var $=g(c);p=o($,"DIV",{});var ct=g(p);S=o(ct,"DIV",{});var bt=g(S);h=K(bt,`SRV NAME:

					`),_=o(bt,"SELECT",{name:!0,id:!0,class:!0});var kt=g(_);for(let rt=0;rt<A.length;rt+=1)A[rt].l(kt);kt.forEach(v),U=I(bt),P=o(bt,"INPUT",{type:!0,class:!0}),bt.forEach(v),k=I(ct),j=o(ct,"HR",{}),Y=I(ct),q=o(ct,"DIV",{"data-svelte-h":!0}),ht(q)!=="svelte-4llspp"&&(q.innerHTML=R),ct.forEach(v),$.forEach(v),J=I(s),O=o(s,"DIV",{class:!0});var qt=g(O);a=o(qt,"DIV",{});var st=g(a);f=K(st,`SRV NAME:
				`),m=o(st,"INPUT",{type:!0,class:!0}),y=I(st),x=o(st,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),tt=I(st),T=o(st,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),st.forEach(v),qt.forEach(v),s.forEach(v),L=I(V),C=o(V,"DIV",{class:!0});var _t=g(C);B=o(_t,"DIV",{class:!0});var Rt=g(B);b=o(Rt,"TABLE",{class:!0});var It=g(b);E=o(It,"TR",{class:!0});var H=g(E);M=o(H,"TH",{class:!0});var xt=g(M);X=K(xt,z),xt.forEach(v),et=I(H),W=o(H,"TH",{class:!0,"data-svelte-h":!0}),ht(W)!=="svelte-15x45td"&&(W.textContent=N),u=I(H),Q=o(H,"TH",{"data-svelte-h":!0}),ht(Q)!=="svelte-1qpoe61"&&(Q.textContent=ft),nt=I(H),G=o(H,"TH",{class:!0,"data-svelte-h":!0}),ht(G)!=="svelte-fbdknj"&&(G.textContent=pt),Z=I(H),lt=o(H,"TH",{class:!0,"data-svelte-h":!0}),ht(lt)!=="svelte-7b4xoz"&&(lt.textContent=Pt),Tt=I(H),at=o(H,"TH",{class:!0,"data-svelte-h":!0}),ht(at)!=="svelte-m97lm8"&&(at.textContent=Ot),H.forEach(v),Nt=I(It);for(let rt=0;rt<D.length;rt+=1)D[rt].l(It);It.forEach(v),Rt.forEach(v),At=I(_t),Dt=o(_t,"HR",{}),yt=I(_t),it=o(_t,"DIV",{class:!0});var Ht=g(it);mt=o(Ht,"PRE",{});var jt=g(mt);wt=K(jt,gt),jt.forEach(v),Ht.forEach(v),_t.forEach(v),V.forEach(v),this.h()},h(){l(_,"name","srv_list"),l(_,"id","srv_list"),l(_,"class","ml-5 mr-5"),l(P,"type","submit"),P.value="NEW API",l(P,"class","border pr-4 pl-4 bg-red-600 text-white float-right rounded-sm"),l(c,"class","border w-[79vw] h-57"),l(m,"type","submit"),m.value="NEW SRV",l(m,"class","border pr-4 pl-4 bg-orange-600 text-white float-right rounded-sm"),l(x,"class","border w-full"),l(x,"id","srv_name"),l(x,"name","srv_name"),l(x,"placeholder","Enter the Srv Name."),l(T,"class","border w-full"),l(T,"id","default_hdr"),l(T,"name","default_hdr"),l(T,"placeholder","Enter the default_hdr for the new Srv."),l(O,"class","border w-[29vw] h-57"),l(d,"class","border bg-white w-full h-60 flex flex-row justify-between pt-1 pl-1"),l(M,"class","w-[2vw] text-center bg-blue-600 text-white"),l(W,"class","w-[9vw]"),l(G,"class","w-[4vw] text-center"),l(lt,"class","w-[5vw] text-center"),l(at,"class","w-[6vw] text-center"),l(E,"class","bg-white text-left sticky top-0"),l(b,"class","w-full border border-separate text-sm"),l(B,"class","h-[44vh] overflow-y-scroll border"),l(it,"class","h-[28vh] overflow-y-scroll text-sm p-1"),l(C,"class","border bg-white w-full h-[74vh]"),l(e,"class","border w-full h-screen p-1 bg-gray-200")},m(i,V){Vt(i,e,V),t(e,d),t(d,c),t(c,p),t(p,S),t(S,h),t(S,_);for(let s=0;s<A.length;s+=1)A[s]&&A[s].m(_,null);t(S,U),t(S,P),t(p,k),t(p,j),t(p,Y),t(p,q),t(d,J),t(d,O),t(O,a),t(a,f),t(a,m),t(a,y),t(a,x),t(a,tt),t(a,T),St(T,n[3]),t(e,L),t(e,C),t(C,B),t(B,b),t(b,E),t(E,M),t(M,X),t(E,et),t(E,W),t(E,u),t(E,Q),t(E,nt),t(E,G),t(E,Z),t(E,lt),t(E,Tt),t(E,at),t(b,Nt);for(let s=0;s<D.length;s+=1)D[s]&&D[s].m(b,null);t(C,At),t(C,Dt),t(C,yt),t(C,it),t(it,mt),t(mt,wt),Ct||(Lt=[vt(_,"change",n[8]),vt(P,"click",n[4]),vt(m,"click",n[5]),vt(T,"input",n[9])],Ct=!0)},p(i,[V]){if(V&2){dt=Et(i[1]);let s;for(s=0;s<dt.length;s+=1){const $=Yt(i,dt,s);A[s]?A[s].p($,V):(A[s]=Bt($),A[s].c(),A[s].m(_,null))}for(;s<A.length;s+=1)A[s].d(1);A.length=dt.length}if(V&8&&T.value!==i[3]&&St(T,i[3]),V&1&&z!==(z=i[0].length+"")&&ot(X,z),V&193){ut=Et(i[0]);let s;for(s=0;s<ut.length;s+=1){const $=Ut(i,ut,s);D[s]?D[s].p($,V):(D[s]=zt($),D[s].c(),D[s].m(b,null))}for(;s<D.length;s+=1)D[s].d(1);D.length=ut.length}V&4&&gt!==(gt=(i[2]?i[2]:"")+"")&&ot(wt,gt)},i:Jt,o:Jt,d(i){i&&v(e),Mt(A,i),Mt(D,i),Ct=!1,Wt(Lt)}}}function Zt(n,e,d){let c=[],p=[],S="",h="";const _=()=>{const a=document.getElementById("srv_list");let f=document.getElementById("api_content");console.log(a.value,f.value),q(Number(a.value),f.value.toUpperCase()),f.value=""},U=()=>{let a=document.getElementById("srv_name");console.log(a.value),R(a.value,h),a.value="",d(3,h="")},P=a=>{console.log(a.target.dataset),confirm("Are you sure you want to delete this API?")&&k(Number(a.target.dataset.api_id))},k=async a=>{localStorage.removeItem("output");const m=await(await fetch("http://localhost:8082/api/del",{method:"POST",body:JSON.stringify({id:a})})).json();localStorage.setItem("output",JSON.stringify(m,null,4)),window.location.reload()},j=a=>{confirm(`Confirm to make this API ${a.target.dataset.validation=="Y"?"INVALID":"VALID"} ?`)&&Y(Number(a.target.dataset.api_id),a.target.dataset.validation)},Y=async(a,f)=>{localStorage.removeItem("output");const y=await(await fetch("http://localhost:8082/api/validation",{method:"POST",body:JSON.stringify({id:a,validation:f=="Y"?"N":"Y"})})).json();console.log(y),localStorage.setItem("output",JSON.stringify(y,null,4)),window.location.reload()},q=async(a,f)=>{if(localStorage.removeItem("output"),f==""||f==null){alert("Please enter API content");return}const y=await(await fetch("http://localhost:8082/api/add",{method:"POST",body:JSON.stringify({srv_id:a,api_content:f})})).json();localStorage.setItem("output",JSON.stringify(y,null,4)),window.location.reload()},R=async(a,f)=>{if(localStorage.removeItem("output"),a==""||a==null){alert("Please enter Srv Name");return}const y=await(await fetch("http://localhost:8082/api/srv/add",{method:"POST",body:JSON.stringify({srv_name:a,default_hdr:f})})).json();localStorage.setItem("output",JSON.stringify(y,null,4)),window.location.reload()},J=a=>{localStorage.removeItem("selected_srv_id");let f=a.currentTarget.value;localStorage.setItem("selected_srv_id",f),d(0,c=p.filter(m=>m.id==f)[0].api_list),console.log(`selected_srv_data:
`,c)};Ft(async()=>{const f=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();d(1,p=f);const m=Number(localStorage.getItem("selected_srv_id"));d(0,c=m?p[m-1].api_list:p[0].api_list),console.log(c),d(2,S=localStorage.getItem("output"))});function O(){h=this.value,d(3,h)}return[c,p,S,h,_,U,P,j,J,O]}class le extends Kt{constructor(e){super(),Qt(this,e,Zt,Xt,Gt,{})}}export{le as component};
