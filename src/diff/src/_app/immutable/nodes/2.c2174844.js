import{s as Gt,n as Jt,r as Wt,o as Ft}from"../chunks/scheduler.e108d1fd.js";import{S as Kt,i as Qt,g as o,m as F,s as w,h as r,j as g,n as K,f as v,c as I,x as ht,k as l,a as Vt,y as t,z as Tt,A as vt,o as rt,B as Mt}from"../chunks/index.62e7400b.js";import{e as Et}from"../chunks/each.e59479a4.js";function Ut(n,e,d){const u=n.slice();return u[14]=e[d],u[16]=d,u}function Yt(n,e,d){const u=n.slice();return u[17]=e[d],u}function Bt(n){let e,d=n[17].srv_name+"",u,p,T;return{c(){e=o("option"),u=F(d),this.h()},l(h){e=r(h,"OPTION",{});var _=g(e);u=K(_,d),_.forEach(v),this.h()},h(){e.__value=p=n[17].id,Tt(e,e.__value),e.selected=T=n[17].id==localStorage.getItem("selected_srv_id")},m(h,_){Vt(h,e,_),t(e,u)},p(h,_){_&2&&d!==(d=h[17].srv_name+"")&&rt(u,d),_&2&&p!==(p=h[17].id)&&(e.__value=p,Tt(e,e.__value)),_&2&&T!==(T=h[17].id==localStorage.getItem("selected_srv_id"))&&(e.selected=T)},d(h){h&&v(e)}}}function zt(n){let e,d,u=n[16]+1+"",p,T,h,_=n[14].api_name+"",U,P,k,j=n[14].api_content+"",Y,q,R,J=n[14].is_inuse+"",O,a,m,f,A=n[14].test_count+"",x,tt,S,L,C,B,b,E,M,z,X,et,W;return{c(){e=o("tr"),d=o("td"),p=F(u),T=w(),h=o("td"),U=F(_),P=w(),k=o("td"),Y=F(j),q=w(),R=o("td"),O=F(J),m=w(),f=o("td"),x=F(A),tt=w(),S=o("td"),L=o("input"),B=w(),b=o("input"),X=w(),this.h()},l(N){e=r(N,"TR",{});var c=g(e);d=r(c,"TD",{class:!0});var Q=g(d);p=K(Q,u),Q.forEach(v),T=I(c),h=r(c,"TD",{class:!0});var pt=g(h);U=K(pt,_),pt.forEach(v),P=I(c),k=r(c,"TD",{class:!0});var nt=g(k);Y=K(nt,j),nt.forEach(v),q=I(c),R=r(c,"TD",{class:!0});var G=g(R);O=K(G,J),G.forEach(v),m=I(c),f=r(c,"TD",{class:!0});var ft=g(f);x=K(ft,A),ft.forEach(v),tt=I(c),S=r(c,"TD",{class:!0});var Z=g(S);L=r(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0}),B=I(Z),b=r(Z,"INPUT",{type:!0,class:!0,"data-api_id":!0,"data-validation":!0}),Z.forEach(v),X=I(c),c.forEach(v),this.h()},h(){l(d,"class","border text-center"),l(h,"class","border"),l(k,"class","border"),l(R,"class",a="border text-center "+(n[14].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm"),l(f,"class","border text-center"),l(L,"type","button"),L.value="DEL",l(L,"class","text-red-500"),l(L,"data-api_id",C=n[14].id),l(b,"type","button"),b.value=E=n[14].is_inuse=="Y"?"INVLALID":"VALID",l(b,"class","text-blue-500"),l(b,"data-api_id",M=n[14].id),l(b,"data-validation",z=n[14].is_inuse),l(S,"class","border text-center float-left")},m(N,c){Vt(N,e,c),t(e,d),t(d,p),t(e,T),t(e,h),t(h,U),t(e,P),t(e,k),t(k,Y),t(e,q),t(e,R),t(R,O),t(e,m),t(e,f),t(f,x),t(e,tt),t(e,S),t(S,L),t(S,B),t(S,b),t(e,X),et||(W=[vt(L,"click",n[6]),vt(b,"click",n[7])],et=!0)},p(N,c){c&1&&_!==(_=N[14].api_name+"")&&rt(U,_),c&1&&j!==(j=N[14].api_content+"")&&rt(Y,j),c&1&&J!==(J=N[14].is_inuse+"")&&rt(O,J),c&1&&a!==(a="border text-center "+(N[14].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm")&&l(R,"class",a),c&1&&A!==(A=N[14].test_count+"")&&rt(x,A),c&1&&C!==(C=N[14].id)&&l(L,"data-api_id",C),c&1&&E!==(E=N[14].is_inuse=="Y"?"INVLALID":"VALID")&&(b.value=E),c&1&&M!==(M=N[14].id)&&l(b,"data-api_id",M),c&1&&z!==(z=N[14].is_inuse)&&l(b,"data-validation",z)},d(N){N&&v(e),et=!1,Wt(W)}}}function Xt(n){let e,d,u,p,T,h,_,U,P,k,j,Y,q,R='<div>API CONTENT:</div> <div><input class="border w-full" id="api_content" name="api_content" placeholder="Enter the Api Content."/></div>',J,O,a,m,f,A,x,tt,S,L,C,B,b,E,M,z=n[0].length+"",X,et,W,N="API_NAME",c,Q,pt="API CONTENT",nt,G,ft="VALID",Z,lt,Pt="TEST CNT",St,at,Ot="OPERATION",Nt,Dt,yt,At,it,mt,gt=(n[2]?n[2]:"")+"",wt,Ct,Lt,dt=Et(n[1]),D=[];for(let i=0;i<dt.length;i+=1)D[i]=Bt(Yt(n,dt,i));let ct=Et(n[0]),y=[];for(let i=0;i<ct.length;i+=1)y[i]=zt(Ut(n,ct,i));return{c(){e=o("div"),d=o("div"),u=o("div"),p=o("div"),T=o("div"),h=F(`SRV NAME:

					`),_=o("select");for(let i=0;i<D.length;i+=1)D[i].c();U=w(),P=o("input"),k=w(),j=o("hr"),Y=w(),q=o("div"),q.innerHTML=R,J=w(),O=o("div"),a=o("div"),m=F(`SRV NAME:
				`),f=o("input"),A=w(),x=o("input"),tt=w(),S=o("input"),L=w(),C=o("div"),B=o("div"),b=o("table"),E=o("tr"),M=o("th"),X=F(z),et=w(),W=o("th"),W.textContent=N,c=w(),Q=o("th"),Q.textContent=pt,nt=w(),G=o("th"),G.textContent=ft,Z=w(),lt=o("th"),lt.textContent=Pt,St=w(),at=o("th"),at.textContent=Ot,Nt=w();for(let i=0;i<y.length;i+=1)y[i].c();Dt=w(),yt=o("hr"),At=w(),it=o("div"),mt=o("pre"),wt=F(gt),this.h()},l(i){e=r(i,"DIV",{class:!0});var V=g(e);d=r(V,"DIV",{class:!0});var s=g(d);u=r(s,"DIV",{class:!0});var $=g(u);p=r($,"DIV",{});var ut=g(p);T=r(ut,"DIV",{});var bt=g(T);h=K(bt,`SRV NAME:

					`),_=r(bt,"SELECT",{name:!0,id:!0,class:!0});var kt=g(_);for(let ot=0;ot<D.length;ot+=1)D[ot].l(kt);kt.forEach(v),U=I(bt),P=r(bt,"INPUT",{type:!0,class:!0}),bt.forEach(v),k=I(ut),j=r(ut,"HR",{}),Y=I(ut),q=r(ut,"DIV",{"data-svelte-h":!0}),ht(q)!=="svelte-4llspp"&&(q.innerHTML=R),ut.forEach(v),$.forEach(v),J=I(s),O=r(s,"DIV",{class:!0});var qt=g(O);a=r(qt,"DIV",{});var st=g(a);m=K(st,`SRV NAME:
				`),f=r(st,"INPUT",{type:!0,class:!0}),A=I(st),x=r(st,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),tt=I(st),S=r(st,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),st.forEach(v),qt.forEach(v),s.forEach(v),L=I(V),C=r(V,"DIV",{class:!0});var _t=g(C);B=r(_t,"DIV",{class:!0});var Rt=g(B);b=r(Rt,"TABLE",{class:!0});var It=g(b);E=r(It,"TR",{class:!0});var H=g(E);M=r(H,"TH",{class:!0});var xt=g(M);X=K(xt,z),xt.forEach(v),et=I(H),W=r(H,"TH",{class:!0,"data-svelte-h":!0}),ht(W)!=="svelte-15x45td"&&(W.textContent=N),c=I(H),Q=r(H,"TH",{"data-svelte-h":!0}),ht(Q)!=="svelte-1qpoe61"&&(Q.textContent=pt),nt=I(H),G=r(H,"TH",{class:!0,"data-svelte-h":!0}),ht(G)!=="svelte-fbdknj"&&(G.textContent=ft),Z=I(H),lt=r(H,"TH",{class:!0,"data-svelte-h":!0}),ht(lt)!=="svelte-7b4xoz"&&(lt.textContent=Pt),St=I(H),at=r(H,"TH",{class:!0,"data-svelte-h":!0}),ht(at)!=="svelte-m97lm8"&&(at.textContent=Ot),H.forEach(v),Nt=I(It);for(let ot=0;ot<y.length;ot+=1)y[ot].l(It);It.forEach(v),Rt.forEach(v),Dt=I(_t),yt=r(_t,"HR",{}),At=I(_t),it=r(_t,"DIV",{class:!0});var Ht=g(it);mt=r(Ht,"PRE",{});var jt=g(mt);wt=K(jt,gt),jt.forEach(v),Ht.forEach(v),_t.forEach(v),V.forEach(v),this.h()},h(){l(_,"name","srv_list"),l(_,"id","srv_list"),l(_,"class","ml-5 mr-5"),l(P,"type","submit"),P.value="NEW API",l(P,"class","border pr-4 pl-4 bg-red-600 text-white float-right rounded-sm"),l(u,"class","border w-[79vw] h-57"),l(f,"type","submit"),f.value="NEW SRV",l(f,"class","border pr-4 pl-4 bg-orange-600 text-white float-right rounded-sm"),l(x,"class","border w-full"),l(x,"id","srv_name"),l(x,"name","srv_name"),l(x,"placeholder","Enter the Srv Name."),l(S,"class","border w-full"),l(S,"id","default_hdr"),l(S,"name","default_hdr"),l(S,"placeholder","Enter the default_hdr for the new Srv."),l(O,"class","border w-[29vw] h-57"),l(d,"class","border bg-white w-full h-60 flex flex-row justify-between pt-1 pl-1"),l(M,"class","w-[2vw] text-center bg-blue-600 text-white"),l(W,"class","w-[9vw]"),l(G,"class","w-[4vw] text-center"),l(lt,"class","w-[5vw] text-center"),l(at,"class","w-[6vw] text-center"),l(E,"class","bg-white text-left sticky top-0"),l(b,"class","w-full border border-separate text-sm"),l(B,"class","h-[44vh] overflow-y-scroll border"),l(it,"class","h-[28vh] overflow-y-scroll text-sm p-1"),l(C,"class","border bg-white w-full h-[74vh]"),l(e,"class","border w-full h-screen p-1 bg-gray-200")},m(i,V){Vt(i,e,V),t(e,d),t(d,u),t(u,p),t(p,T),t(T,h),t(T,_);for(let s=0;s<D.length;s+=1)D[s]&&D[s].m(_,null);t(T,U),t(T,P),t(p,k),t(p,j),t(p,Y),t(p,q),t(d,J),t(d,O),t(O,a),t(a,m),t(a,f),t(a,A),t(a,x),t(a,tt),t(a,S),Tt(S,n[3]),t(e,L),t(e,C),t(C,B),t(B,b),t(b,E),t(E,M),t(M,X),t(E,et),t(E,W),t(E,c),t(E,Q),t(E,nt),t(E,G),t(E,Z),t(E,lt),t(E,St),t(E,at),t(b,Nt);for(let s=0;s<y.length;s+=1)y[s]&&y[s].m(b,null);t(C,Dt),t(C,yt),t(C,At),t(C,it),t(it,mt),t(mt,wt),Ct||(Lt=[vt(_,"change",n[8]),vt(P,"click",n[4]),vt(f,"click",n[5]),vt(S,"input",n[9])],Ct=!0)},p(i,[V]){if(V&2){dt=Et(i[1]);let s;for(s=0;s<dt.length;s+=1){const $=Yt(i,dt,s);D[s]?D[s].p($,V):(D[s]=Bt($),D[s].c(),D[s].m(_,null))}for(;s<D.length;s+=1)D[s].d(1);D.length=dt.length}if(V&8&&S.value!==i[3]&&Tt(S,i[3]),V&1&&z!==(z=i[0].length+"")&&rt(X,z),V&193){ct=Et(i[0]);let s;for(s=0;s<ct.length;s+=1){const $=Ut(i,ct,s);y[s]?y[s].p($,V):(y[s]=zt($),y[s].c(),y[s].m(b,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=ct.length}V&4&&gt!==(gt=(i[2]?i[2]:"")+"")&&rt(wt,gt)},i:Jt,o:Jt,d(i){i&&v(e),Mt(D,i),Mt(y,i),Ct=!1,Wt(Lt)}}}function Zt(n,e,d){let u=[],p=[],T="",h="";const _=()=>{const a=document.getElementById("srv_list");let m=document.getElementById("api_content");console.log(a.value,m.value),q(Number(a.value),m.value.toUpperCase()),m.value=""},U=()=>{let a=document.getElementById("srv_name");console.log(a.value),R(a.value,h),a.value="",d(3,h="")},P=a=>{console.log(a.target.dataset),confirm("Are you sure you want to delete this API?")&&k(Number(a.target.dataset.api_id))},k=async a=>{localStorage.removeItem("output");const f=await(await fetch("http://localhost:8082/api/del",{method:"POST",body:JSON.stringify({id:a})})).json();localStorage.setItem("output",JSON.stringify(f,null,4)),window.location.reload()},j=a=>{confirm(`Confirm to make this API ${a.target.dataset.validation=="Y"?"INVALID":"VALID"} ?`)&&Y(Number(a.target.dataset.api_id),a.target.dataset.validation)},Y=async(a,m)=>{localStorage.removeItem("output");const A=await(await fetch("http://localhost:8082/api/validation",{method:"POST",body:JSON.stringify({id:a,validation:m=="Y"?"N":"Y"})})).json();console.log(A),localStorage.setItem("output",JSON.stringify(A,null,4)),window.location.reload()},q=async(a,m)=>{localStorage.removeItem("output");const A=await(await fetch("http://localhost:8082/api/add",{method:"POST",body:JSON.stringify({srv_id:a,api_content:m})})).json();localStorage.setItem("output",JSON.stringify(A,null,4)),window.location.reload()},R=async(a,m)=>{localStorage.removeItem("output");const A=await(await fetch("http://localhost:8082/api/srv/add",{method:"POST",body:JSON.stringify({srv_name:a,default_hdr:m})})).json();localStorage.setItem("output",JSON.stringify(A,null,4)),window.location.reload()},J=a=>{localStorage.removeItem("selected_srv_id");let m=a.currentTarget.value;localStorage.setItem("selected_srv_id",m),d(0,u=p.filter(f=>f.id==m)[0].api_list),console.log(`selected_srv_data:
`,u)};Ft(async()=>{const m=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();d(1,p=m);const f=Number(localStorage.getItem("selected_srv_id"));d(0,u=f?p[f-1].api_list:p[0].api_list),console.log(u),d(2,T=localStorage.getItem("output"))});function O(){h=this.value,d(3,h)}return[u,p,T,h,_,U,P,j,J,O]}class le extends Kt{constructor(e){super(),Qt(this,e,Zt,Xt,Gt,{})}}export{le as component};
