import{s as De,n as me,r as Se,o as ye}from"../chunks/scheduler.e108d1fd.js";import{S as Ve,i as Ae,g as d,m as W,s as S,h as c,j as E,n as G,f as m,c as D,x as ge,k as a,a as ue,y as e,z as ne,o as se,A as be,B as we}from"../chunks/index.1c70bbaf.js";import{e as ce}from"../chunks/each.e59479a4.js";function Ee(i,t,s){const u=i.slice();return u[13]=t[s],u[15]=s,u}function Ie(i,t,s){const u=i.slice();return u[16]=t[s],u}function Te(i){let t,s=i[16].srv_name+"",u,h,p;return{c(){t=d("option"),u=W(s),this.h()},l(g){t=c(g,"OPTION",{});var _=E(t);u=G(_,s),_.forEach(m),this.h()},h(){t.__value=h=i[16].id,we(t,t.__value),t.selected=p=i[16].id==localStorage.getItem("selected_srv_id")},m(g,_){ue(g,t,_),e(t,u)},p(g,_){_&2&&s!==(s=g[16].srv_name+"")&&se(u,s),_&2&&h!==(h=g[16].id)&&(t.__value=h,we(t,t.__value)),_&2&&p!==(p=g[16].id==localStorage.getItem("selected_srv_id"))&&(t.selected=p)},d(g){g&&m(t)}}}function Ne(i){let t,s,u=i[15]+1+"",h,p,g,_=i[13].api_name+"",H,P,O,M=i[13].api_content+"",J,L,q,r=i[13].is_inuse+"",v,f,C,V,Y=i[13].test_count+"",R,x,T,N,A,j,y,F,K,Q,$,U,X;return{c(){t=d("tr"),s=d("td"),h=W(u),p=S(),g=d("td"),H=W(_),P=S(),O=d("td"),J=W(M),L=S(),q=d("td"),v=W(r),C=S(),V=d("td"),R=W(Y),x=S(),T=d("td"),N=d("input"),j=S(),y=d("input"),$=S(),this.h()},l(w){t=c(w,"TR",{});var n=E(t);s=c(n,"TD",{class:!0});var te=E(s);h=G(te,u),te.forEach(m),p=D(n),g=c(n,"TD",{class:!0});var re=E(g);H=G(re,_),re.forEach(m),P=D(n),O=c(n,"TD",{class:!0});var B=E(O);J=G(B,M),B.forEach(m),L=D(n),q=c(n,"TD",{class:!0});var I=E(q);v=G(I,r),I.forEach(m),C=D(n),V=c(n,"TD",{class:!0});var z=E(V);R=G(z,Y),z.forEach(m),x=D(n),T=c(n,"TD",{class:!0});var b=E(T);N=c(b,"INPUT",{type:!0,class:!0,"data-api_id":!0}),j=D(b),y=c(b,"INPUT",{type:!0,class:!0,"data-api_id":!0,"data-validation":!0}),b.forEach(m),$=D(n),n.forEach(m),this.h()},h(){a(s,"class","border text-center"),a(g,"class","border"),a(O,"class","border"),a(q,"class",f="border text-center "+(i[13].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm"),a(V,"class","border text-center"),a(N,"type","button"),N.value="DEL",a(N,"class","text-red-500"),a(N,"data-api_id",A=i[13].id),a(y,"type","button"),y.value=F=i[13].is_inuse=="Y"?"INVLALID":"VALID",a(y,"class","text-blue-500"),a(y,"data-api_id",K=i[13].id),a(y,"data-validation",Q=i[13].is_inuse),a(T,"class","border text-center")},m(w,n){ue(w,t,n),e(t,s),e(s,h),e(t,p),e(t,g),e(g,H),e(t,P),e(t,O),e(O,J),e(t,L),e(t,q),e(q,v),e(t,C),e(t,V),e(V,R),e(t,x),e(t,T),e(T,N),e(T,j),e(T,y),e(t,$),U||(X=[ne(N,"click",i[5]),ne(y,"click",i[6])],U=!0)},p(w,n){n&1&&_!==(_=w[13].api_name+"")&&se(H,_),n&1&&M!==(M=w[13].api_content+"")&&se(J,M),n&1&&r!==(r=w[13].is_inuse+"")&&se(v,r),n&1&&f!==(f="border text-center "+(w[13].is_inuse=="Y"?"bg-green-400 text-white":"bg-red-400 text-white")+" rounded-sm")&&a(q,"class",f),n&1&&Y!==(Y=w[13].test_count+"")&&se(R,Y),n&1&&A!==(A=w[13].id)&&a(N,"data-api_id",A),n&1&&F!==(F=w[13].is_inuse=="Y"?"INVLALID":"VALID")&&(y.value=F),n&1&&K!==(K=w[13].id)&&a(y,"data-api_id",K),n&1&&Q!==(Q=w[13].is_inuse)&&a(y,"data-validation",Q)},d(w){w&&m(t),U=!1,Se(X)}}}function Pe(i){let t,s,u,h,p,g,_,H,P,O,M,J,L,q='<div>API CONTENT:</div> <div><input class="border w-full" id="api_content" name="api_content" placeholder="Enter the Api Content."/></div>',r,v,f,C,V,Y,R,x,T,N,A,j,y='<th class="w-[2vw] text-center">#</th> <th class="w-[9vw]">API_NAME</th> <th>API CONTENT</th> <th class="w-[4vw] text-center">VALID</th> <th class="w-[5vw] text-center">TEST CNT</th> <th class="w-[6vw] text-center">OPERATION</th>',F,K,Q,$,U,X,w=(i[2]?JSON.stringify(i[2],null,4):"")+"",n,te,re,B=ce(i[1]),I=[];for(let o=0;o<B.length;o+=1)I[o]=Te(Ie(i,B,o));let z=ce(i[0]),b=[];for(let o=0;o<z.length;o+=1)b[o]=Ne(Ee(i,z,o));return{c(){t=d("div"),s=d("div"),u=d("div"),h=d("div"),p=d("div"),g=W(`SRV NAME:

					`),_=d("select");for(let o=0;o<I.length;o+=1)I[o].c();H=S(),P=d("input"),O=S(),M=d("hr"),J=S(),L=d("div"),L.innerHTML=q,r=S(),v=d("div"),f=d("div"),C=W(`SRV NAME:
				`),V=d("input"),Y=S(),R=d("input"),x=S(),T=d("div"),N=d("div"),A=d("table"),j=d("tr"),j.innerHTML=y,F=S();for(let o=0;o<b.length;o+=1)b[o].c();K=S(),Q=d("hr"),$=S(),U=d("div"),X=d("pre"),n=W(w),this.h()},l(o){t=c(o,"DIV",{class:!0});var k=E(t);s=c(k,"DIV",{class:!0});var l=E(s);u=c(l,"DIV",{class:!0});var Z=E(u);h=c(Z,"DIV",{});var le=E(h);p=c(le,"DIV",{});var ie=E(p);g=G(ie,`SRV NAME:

					`),_=c(ie,"SELECT",{name:!0,id:!0,class:!0});var _e=E(_);for(let ee=0;ee<I.length;ee+=1)I[ee].l(_e);_e.forEach(m),H=D(ie),P=c(ie,"INPUT",{type:!0,class:!0}),ie.forEach(m),O=D(le),M=c(le,"HR",{}),J=D(le),L=c(le,"DIV",{"data-svelte-h":!0}),ge(L)!=="svelte-4llspp"&&(L.innerHTML=q),le.forEach(m),Z.forEach(m),r=D(l),v=c(l,"DIV",{class:!0});var ve=E(v);f=c(ve,"DIV",{});var oe=E(f);C=G(oe,`SRV NAME:
				`),V=c(oe,"INPUT",{type:!0,class:!0}),Y=D(oe),R=c(oe,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0}),oe.forEach(m),ve.forEach(m),l.forEach(m),x=D(k),T=c(k,"DIV",{class:!0});var ae=E(T);N=c(ae,"DIV",{class:!0});var he=E(N);A=c(he,"TABLE",{class:!0});var de=E(A);j=c(de,"TR",{class:!0,"data-svelte-h":!0}),ge(j)!=="svelte-1uzhdsy"&&(j.innerHTML=y),F=D(de);for(let ee=0;ee<b.length;ee+=1)b[ee].l(de);de.forEach(m),he.forEach(m),K=D(ae),Q=c(ae,"HR",{}),$=D(ae),U=c(ae,"DIV",{class:!0});var pe=E(U);X=c(pe,"PRE",{});var fe=E(X);n=G(fe,w),fe.forEach(m),pe.forEach(m),ae.forEach(m),k.forEach(m),this.h()},h(){a(_,"name","srv_list"),a(_,"id","srv_list"),a(_,"class","ml-5 mr-5"),a(P,"type","submit"),P.value="NEW API",a(P,"class","border pr-4 pl-4 bg-red-600 text-white float-right rounded-sm"),a(u,"class","border w-[79vw] h-57"),a(V,"type","submit"),V.value="NEW SRV",a(V,"class","border pr-4 pl-4 bg-orange-600 text-white float-right rounded-sm"),a(R,"class","border w-full"),a(R,"id","srv_name"),a(R,"name","srv_name"),a(R,"placeholder","Enter the Srv Name."),a(v,"class","border w-[29vw] h-57"),a(s,"class","border bg-white w-full h-60 flex flex-row justify-between pt-1 pl-1"),a(j,"class","text-left"),a(A,"class","w-full border border-separate text-sm"),a(N,"class","h-[44vh] overflow-y-scroll border"),a(U,"class","h-[28vh] overflow-y-scroll text-sm p-1"),a(T,"class","border bg-white w-full h-[74vh]"),a(t,"class","border w-full h-screen p-1 bg-gray-200")},m(o,k){ue(o,t,k),e(t,s),e(s,u),e(u,h),e(h,p),e(p,g),e(p,_);for(let l=0;l<I.length;l+=1)I[l]&&I[l].m(_,null);e(p,H),e(p,P),e(h,O),e(h,M),e(h,J),e(h,L),e(s,r),e(s,v),e(v,f),e(f,C),e(f,V),e(f,Y),e(f,R),e(t,x),e(t,T),e(T,N),e(N,A),e(A,j),e(A,F);for(let l=0;l<b.length;l+=1)b[l]&&b[l].m(A,null);e(T,K),e(T,Q),e(T,$),e(T,U),e(U,X),e(X,n),te||(re=[ne(_,"change",i[7]),ne(P,"click",i[3]),ne(V,"click",i[4])],te=!0)},p(o,[k]){if(k&2){B=ce(o[1]);let l;for(l=0;l<B.length;l+=1){const Z=Ie(o,B,l);I[l]?I[l].p(Z,k):(I[l]=Te(Z),I[l].c(),I[l].m(_,null))}for(;l<I.length;l+=1)I[l].d(1);I.length=B.length}if(k&97){z=ce(o[0]);let l;for(l=0;l<z.length;l+=1){const Z=Ee(o,z,l);b[l]?b[l].p(Z,k):(b[l]=Ne(Z),b[l].c(),b[l].m(A,null))}for(;l<b.length;l+=1)b[l].d(1);b.length=z.length}k&4&&w!==(w=(o[2]?JSON.stringify(o[2],null,4):"")+"")&&se(n,w)},i:me,o:me,d(o){o&&m(t),be(I,o),be(b,o),te=!1,Se(re)}}}function Oe(i,t,s){let u=[],h=[],p="";const g=()=>{const r=document.getElementById("srv_list");let v=document.getElementById("api_content");console.log(r.value,v.value),J(Number(r.value),v.value.toUpperCase()),v.value=""},_=()=>{let r=document.getElementById("srv_name");console.log(r.value),L(r.value),r.value=""},H=r=>{console.log(r.target.dataset),P(Number(r.target.dataset.api_id))},P=async r=>{const f=await(await fetch("http://localhost:8082/api/del",{method:"POST",body:JSON.stringify({id:r})})).json();alert(f),window.location.reload()},O=r=>{M(Number(r.target.dataset.api_id),r.target.dataset.validation)},M=async(r,v)=>{const C=await(await fetch("http://localhost:8082/api/validation",{method:"POST",body:JSON.stringify({id:r,validation:v=="Y"?"N":"Y"})})).json();alert(C),window.location.reload()},J=async(r,v)=>{s(2,p="");const C=await(await fetch("http://localhost:8082/api/add",{method:"POST",body:JSON.stringify({srv_id:r,api_content:v})})).json();s(2,p=C),window.location.reload()},L=async r=>{s(2,p="");const f=await(await fetch("http://localhost:8082/api/srv/add",{method:"POST",body:JSON.stringify({srv_name:r})})).json();s(2,p=f)},q=r=>{s(2,p=""),localStorage.removeItem("selected_srv_id");let v=r.currentTarget.value;localStorage.setItem("selected_srv_id",v),s(0,u=h.filter(f=>f.id==v)[0].api_list),console.log(`selected_srv_data:
`,u)};return ye(async()=>{const v=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();s(1,h=v);const f=Number(localStorage.getItem("selected_srv_id"));s(0,u=f?h[f-1].api_list:h[0].api_list),console.log(u)}),[u,h,p,g,_,H,O,q]}class ke extends Ve{constructor(t){super(),Ae(this,t,Oe,Pe,De,{})}}export{ke as component};
