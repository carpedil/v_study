import{s as P,n as Q,e as he,o as B,r as _e}from"../chunks/scheduler.e108d1fd.js";import{S as j,i as H,g as b,s as y,m as T,H as te,h as w,j as k,c as C,x as U,n as q,f as m,C as le,k as p,a as I,y as g,A as N,o as O,r as Y,u as z,v as G,d as J,t as R,w as W,e as se,B as X,z as ae}from"../chunks/index.3aeff6f3.js";import{e as A}from"../chunks/each.e59479a4.js";import{w as pe}from"../chunks/index.0378bb41.js";let K=pe("");function ve(r){let e,t,l,s,i,a,u='<input type="checkbox" value="10.9.64.28" id="old" name="test_srv_list" checked=""/> 10.9.64.28',_,h,c='<input type="checkbox" value="10.162.138.83" id="new" name="test_srv_list" checked=""/> 10.162.138.83',n,o,d,f,v,E,$,S,F,Z;return{c(){e=b("div"),t=b("div"),l=b("div"),s=b("input"),i=y(),a=b("label"),a.innerHTML=u,_=T(`
			|
			`),h=b("label"),h.innerHTML=c,n=y(),o=T(r[0]),d=y(),f=b("div"),v=new te(!1),E=y(),$=b("div"),S=new te(!1),this.h()},l(V){e=w(V,"DIV",{class:!0});var D=k(e);t=w(D,"DIV",{class:!0});var M=k(t);l=w(M,"DIV",{class:!0});var L=k(l);s=w(L,"INPUT",{type:!0,class:!0}),i=C(L),a=w(L,"LABEL",{for:!0,"data-svelte-h":!0}),U(a)!=="svelte-wwm7kw"&&(a.innerHTML=u),_=q(L,`
			|
			`),h=w(L,"LABEL",{for:!0,"data-svelte-h":!0}),U(h)!=="svelte-bzt65i"&&(h.innerHTML=c),L.forEach(m),n=C(M),o=q(M,r[0]),M.forEach(m),d=C(D),f=w(D,"DIV",{class:!0});var x=k(f);v=le(x,!1),x.forEach(m),E=C(D),$=w(D,"DIV",{class:!0});var ee=k($);S=le(ee,!1),ee.forEach(m),D.forEach(m),this.h()},h(){p(s,"type","button"),s.value="SEND",p(s,"class","border pl-2 pr-2 mr-5 bg-blue-600 text-white rounded-md"),p(a,"for","old"),p(h,"for","new"),p(l,"class","w-full border-2 border-b-black"),p(t,"class","border w-full h-[73vh] p-1"),v.a=null,p(f,"class","border w-full h-[73vh] p-1"),S.a=null,p($,"class","border w-full h-[73vh] p-1"),p(e,"class","flex flex-col justify-evenly border w-full h-[73vh] p-1")},m(V,D){I(V,e,D),g(e,t),g(t,l),g(l,s),g(l,i),g(l,a),g(l,_),g(l,h),g(t,n),g(t,o),g(e,d),g(e,f),v.m(r[1],f),g(e,E),g(e,$),S.m(r[1],$),F||(Z=N(s,"click",r[2]),F=!0)},p(V,[D]){D&1&&O(o,V[0]),D&2&&v.p(V[1]),D&2&&S.p(V[1])},i:Q,o:Q,d(V){V&&m(e),F=!1,Z()}}}function me(r,e,t){let l;he(r,K,c=>t(1,l=c));let{msg:s}=e,i=[];const a=async()=>{if(i=u(),s.length<=1){alert("Api message can not be send with nothing, Select the api to be tested and enter the correct test data.");return}if(i.length==0){alert("The IP address of the server to be tested cannot be empty. Select at least one of the server IP addresses to send test information.");return}console.log(`Sending msg ${s} to ${i.toString()}`);const n=await(await fetch("http://localhost:8082/api/message/send",{method:"POST",body:JSON.stringify({msg:s,srv_ip_list:i})})).json();console.log(n),_(s)},u=()=>{let c=[],n=document.getElementsByName("test_srv_list");for(let o=0;o<n.length;o++){let d=n[o];d.checked&&c.push(d.value)}return console.log(c),c},_=c=>{let n="",o=new WebSocket("ws://localhost:30000");o.onopen=function(d){console.log("[open] Connection established"),console.log("Sending to server"),o.send(c)},o.onmessage=function(d){console.log(`[message] Data received from server: ${d.data}`),n=d.data,console.log("callback_msg=",n),h(d.data)},o.onclose=function(d){d.wasClean?console.log(`[close] Connection closed cleanly, code=${d.code} reason=${d.reason}`):console.log("[close] Connection died")},o.onerror=function(d){console.log(`[error]${JSON.stringify(d,null,4)}`)}},h=c=>{K.update(n=>c)};return B(()=>{console.log("msg:",s,s.length)}),r.$$set=c=>{"msg"in c&&t(0,s=c.msg)},console.log(K),[s,l,a]}class ge extends j{constructor(e){super(),H(this,e,me,ve,P,{msg:0})}}function ne(r,e,t){const l=r.slice();return l[4]=e[t],l[5]=e,l[6]=t,l}function re(r){let e,t=(r[0].api_content===""?"":r[0].api_content)+"",l,s;return{c(){e=b("div"),l=T(t),this.h()},l(i){e=w(i,"DIV",{class:!0});var a=k(e);l=q(a,t),a.forEach(m),this.h()},h(){p(e,"class",s=r[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")},m(i,a){I(i,e,a),g(e,l)},p(i,a){a&1&&t!==(t=(i[0].api_content===""?"":i[0].api_content)+"")&&O(l,t),a&1&&s!==(s=i[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")&&p(e,"class",s)},d(i){i&&m(e)}}}function ie(r){let e,t=A(r[0].api_param),l=[];for(let s=0;s<t.length;s+=1)l[s]=oe(ne(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},l(s){for(let i=0;i<l.length;i+=1)l[i].l(s);e=se()},m(s,i){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,i);I(s,e,i)},p(s,i){if(i&1){t=A(s[0].api_param);let a;for(a=0;a<t.length;a+=1){const u=ne(s,t,a);l[a]?l[a].p(u,i):(l[a]=oe(u),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(s){s&&m(e),X(l,s)}}}function oe(r){let e,t,l=r[4].key+"",s,i,a,u,_,h,c,n,o,d;function f(){r[2].call(a,r[5],r[6])}function v(){return r[3](r[4],r[5],r[6])}return{c(){e=b("div"),t=b("label"),s=T(l),i=T("="),a=b("input"),n=y(),this.h()},l(E){e=w(E,"DIV",{class:!0});var $=k(e);t=w($,"LABEL",{for:!0,class:!0});var S=k(t);s=q(S,l),i=q(S,"="),a=w(S,"INPUT",{type:!0,name:!0,id:!0,class:!0}),S.forEach(m),n=C($),$.forEach(m),this.h()},h(){p(a,"type","text"),p(a,"name",u=r[4].key),p(a,"id",_=r[4].key),a.required=h=r[4].is_required,p(a,"class","w-[24vw] border float-right text-left text-slate-600 bg-slate-300"),p(t,"for",c=r[4].key),p(t,"class","w-[10vw]"),p(e,"class","border")},m(E,$){I(E,e,$),g(e,t),g(t,s),g(t,i),g(t,a),ae(a,r[4].value),g(e,n),o||(d=[N(a,"input",f),N(a,"change",v)],o=!0)},p(E,$){r=E,$&1&&l!==(l=r[4].key+"")&&O(s,l),$&1&&u!==(u=r[4].key)&&p(a,"name",u),$&1&&_!==(_=r[4].key)&&p(a,"id",_),$&1&&h!==(h=r[4].is_required)&&(a.required=h),$&1&&a.value!==r[4].value&&ae(a,r[4].value),$&1&&c!==(c=r[4].key)&&p(t,"for",c)},d(E){E&&m(e),o=!1,_e(d)}}}function be(r){let e,t,l,s,i,a,u,_,h=r[0]!=null&&re(r),c=r[0]!=null&&ie(r);return u=new ge({props:{msg:r[1]}}),{c(){e=b("div"),h&&h.c(),t=y(),l=b("div"),s=b("div"),i=b("div"),c&&c.c(),a=y(),Y(u.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var o=k(e);h&&h.l(o),o.forEach(m),t=C(n),l=w(n,"DIV",{class:!0});var d=k(l);s=w(d,"DIV",{class:!0});var f=k(s);i=w(f,"DIV",{class:!0});var v=k(i);c&&c.l(v),v.forEach(m),a=C(f),z(u.$$.fragment,f),f.forEach(m),d.forEach(m),this.h()},h(){p(e,"class","border-2 bg-white h-[7vh] w-full p-1 flex items-center"),p(i,"class","border w-[55vw] h-[73vh] p-1"),p(s,"class","flex flex-row justify-evenly"),p(l,"class","bg-white h-[73vh] p-1")},m(n,o){I(n,e,o),h&&h.m(e,null),I(n,t,o),I(n,l,o),g(l,s),g(s,i),c&&c.m(i,null),g(s,a),G(u,s,null),_=!0},p(n,[o]){n[0]!=null?h?h.p(n,o):(h=re(n),h.c(),h.m(e,null)):h&&(h.d(1),h=null),n[0]!=null?c?c.p(n,o):(c=ie(n),c.c(),c.m(i,null)):c&&(c.d(1),c=null);const d={};o&2&&(d.msg=n[1]),u.$set(d)},i(n){_||(J(u.$$.fragment,n),_=!0)},o(n){R(u.$$.fragment,n),_=!1},d(n){n&&(m(e),m(t),m(l)),h&&h.d(),c&&c.d(),W(u)}}}function we(r,e,t){let{api:l}=e,s="";function i(u,_){u[_].value=this.value,t(0,l)}const a=(u,_,h)=>t(0,_[h].value=u.value.toUpperCase(),l);return r.$$set=u=>{"api"in u&&t(0,l=u.api)},r.$$.update=()=>{if(r.$$.dirty&1){let u="";l!=null&&l.api_param.forEach(_=>{u+=`${_.key}=${_.value.includes(" ")&&_.key!="HDR"?`"${_.value.toUpperCase()}" `:`${_.value.toUpperCase()} `} `}),t(1,s=`${l==null?void 0:l.api_name} ${u}`)}},[l,s,i,a]}class $e extends j{constructor(e){super(),H(this,e,we,be,P,{api:0})}}function ce(r,e,t){const l=r.slice();return l[1]=e[t],l}function ue(r){let e,t,l,s,i;return{c(){e=b("input"),this.h()},l(a){e=w(a,"INPUT",{type:!0,class:!0}),this.h()},h(){p(e,"type","button"),e.value=t=r[1].api_name,p(e,"class",l="border "+(r[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")},m(a,u){I(a,e,u),s||(i=N(e,"click",r[2]),s=!0)},p(a,u){u&1&&t!==(t=a[1].api_name)&&(e.value=t),u&1&&l!==(l="border "+(a[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")&&p(e,"class",l)},d(a){a&&m(e),s=!1,i()}}}function ke(r){let e,t,l="API LIST:",s,i,a,u,_,h=A(r[0]),c=[];for(let n=0;n<h.length;n+=1)c[n]=ue(ce(r,h,n));return u=new $e({props:{api:r[1]}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=y(),i=b("div");for(let n=0;n<c.length;n+=1)c[n].c();a=y(),Y(u.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var o=k(e);t=w(o,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1j6fakd"&&(t.textContent=l),s=C(o),i=w(o,"DIV",{class:!0});var d=k(i);for(let f=0;f<c.length;f+=1)c[f].l(d);d.forEach(m),o.forEach(m),a=C(n),z(u.$$.fragment,n),this.h()},h(){p(t,"class","border border-t-0 border-l-0 border-r-0"),p(i,"class","h-[12vh] w-full float-left overflow-y-scroll scroll-auto"),p(e,"class","border bg-white h-[15vh] p-1")},m(n,o){I(n,e,o),g(e,t),g(e,s),g(e,i);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(i,null);I(n,a,o),G(u,n,o),_=!0},p(n,[o]){if(o&5){h=A(n[0]);let f;for(f=0;f<h.length;f+=1){const v=ce(n,h,f);c[f]?c[f].p(v,o):(c[f]=ue(v),c[f].c(),c[f].m(i,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=h.length}const d={};o&2&&(d.api=n[1]),u.$set(d)},i(n){_||(J(u.$$.fragment,n),_=!0)},o(n){R(u.$$.fragment,n),_=!1},d(n){n&&(m(e),m(a)),X(c,n),W(u,n)}}}function Ee(r,e,t){let{api_list:l=[]}=e,s={id:0,srv_id:0,api_name:"",api_content:"",api_param:[],test_count:0,is_inuse:"Y"};B(()=>{console.log(l)});const i=a=>{a.preventDefault();const u=a.target.getAttribute("value");t(1,s=l.find(_=>_.api_name===u)),console.log(s)};return r.$$set=a=>{"api_list"in a&&t(0,l=a.api_list)},[l,s,i]}class Ie extends j{constructor(e){super(),H(this,e,Ee,ke,P,{api_list:0})}}function fe(r,e,t){const l=r.slice();return l[3]=e[t],l}function de(r){let e,t,l,s,i,a,u,_=r[3].srv_name+"",h,c,n,o,d;return{c(){e=b("label"),t=b("input"),u=y(),h=T(_),c=y(),this.h()},l(f){e=w(f,"LABEL",{for:!0});var v=k(e);t=w(v,"INPUT",{type:!0,name:!0,id:!0,"data-srv_id":!0,class:!0}),u=C(v),h=q(v,_),c=C(v),v.forEach(m),this.h()},h(){p(t,"type","radio"),p(t,"name","srvlist"),p(t,"id",l=r[3].id),t.value=s=r[3].srv_name,t.checked=i=r[3].id=="1",p(t,"data-srv_id",a=r[3].id),p(t,"class","border text-left w-auto p-0.5 hover:text-white hover:bg-red-500 focus:bg-red-600 focus:text-white rounded-sm"),p(e,"for",n=r[3].id)},m(f,v){I(f,e,v),g(e,t),g(e,u),g(e,h),g(e,c),o||(d=N(t,"click",r[2]),o=!0)},p(f,v){v&1&&l!==(l=f[3].id)&&p(t,"id",l),v&1&&s!==(s=f[3].srv_name)&&(t.value=s),v&1&&i!==(i=f[3].id=="1")&&(t.checked=i),v&1&&a!==(a=f[3].id)&&p(t,"data-srv_id",a),v&1&&_!==(_=f[3].srv_name+"")&&O(h,_),v&1&&n!==(n=f[3].id)&&p(e,"for",n)},d(f){f&&m(e),o=!1,d()}}}function ye(r){let e,t,l="SRV LIST:",s,i,a,u,_,h,c=A(r[0]),n=[];for(let o=0;o<c.length;o+=1)n[o]=de(fe(r,c,o));return _=new Ie({props:{api_list:r[1].api_list}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=y(),i=b("div");for(let o=0;o<n.length;o+=1)n[o].c();a=y(),u=b("div"),Y(_.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var d=k(e);t=w(d,"SPAN",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-11uywqa"&&(t.textContent=l),s=C(d),i=w(d,"DIV",{class:!0});var f=k(i);for(let E=0;E<n.length;E+=1)n[E].l(f);f.forEach(m),d.forEach(m),a=C(o),u=w(o,"DIV",{class:!0});var v=k(u);z(_.$$.fragment,v),v.forEach(m),this.h()},h(){p(t,"class","border-t-0 border-l-0 border-r-0 border"),p(i,"class","flex flex-col"),p(e,"class","border w-[12vw] p-1"),p(u,"class","border w-[90vw] ml-1")},m(o,d){I(o,e,d),g(e,t),g(e,s),g(e,i);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(i,null);I(o,a,d),I(o,u,d),G(_,u,null),h=!0},p(o,[d]){if(d&5){c=A(o[0]);let v;for(v=0;v<c.length;v+=1){const E=fe(o,c,v);n[v]?n[v].p(E,d):(n[v]=de(E),n[v].c(),n[v].m(i,null))}for(;v<n.length;v+=1)n[v].d(1);n.length=c.length}const f={};d&2&&(f.api_list=o[1].api_list),_.$set(f)},i(o){h||(J(_.$$.fragment,o),h=!0)},o(o){R(_.$$.fragment,o),h=!1},d(o){o&&(m(e),m(a),m(u)),X(n,o),W(_)}}}function Ce(r,e,t){let l=[],s={id:"",srv_name:"",default_hdr:"",api_list:[]};return B(async()=>{const u=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();t(0,l=u),console.log(l),t(1,s=l[0])}),[l,s,a=>{let u=a.target.dataset.srv_id;t(1,s=l[u-1])}]}class De extends j{constructor(e){super(),H(this,e,Ce,ye,P,{})}}function Se(r){let e,t,l;return t=new De({}),{c(){e=b("div"),Y(t.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var i=k(e);z(t.$$.fragment,i),i.forEach(m),this.h()},h(){p(e,"class","flex flex-row justify-start border w-full h-screen p-1")},m(s,i){I(s,e,i),G(t,e,null),l=!0},p:Q,i(s){l||(J(t.$$.fragment,s),l=!0)},o(s){R(t.$$.fragment,s),l=!1},d(s){s&&m(e),W(t)}}}function Ve(r){let e="";return B(async()=>{e=await(await fetch("http://localhost:8082/api/test/hello",{method:"GET"})).json(),console.log(e)}),[]}class Ne extends j{constructor(e){super(),H(this,e,Ve,Se,P,{})}}export{Ne as component};
