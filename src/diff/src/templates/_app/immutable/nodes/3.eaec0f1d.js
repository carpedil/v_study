import{s as j,n as x,e as ve,o as G,r as me}from"../chunks/scheduler.e108d1fd.js";import{S as B,i as U,g as b,s as I,m as A,H as ae,h as w,j as k,c as C,x as P,n as q,f as g,C as ne,k as p,a as y,y as m,A as M,o as R,r as z,u as J,v as O,d as W,t as F,w as K,e as re,B as ee,z as ie}from"../chunks/index.3aeff6f3.js";import{e as H}from"../chunks/each.e59479a4.js";import{w as ge}from"../chunks/index.0378bb41.js";let Z=ge("");function be(r){let e,t,l,s,o,a,c='<input type="checkbox" value="10.9.64.28" id="old" name="test_srv_list"/> 10.9.64.28',_,h,u='<input type="checkbox" value="10.162.138.83" id="new" name="test_srv_list"/> 10.162.138.83',n,i,f=`<input type="checkbox" value="localhost:8090" id="local" name="test_srv_list" checked=""/> localhost(test
				only)`,d,v,E,$,L,Q,T,N,X,te;return{c(){e=b("div"),t=b("div"),l=b("div"),s=b("input"),o=I(),a=b("label"),a.innerHTML=c,_=A(`
			|
			`),h=b("label"),h.innerHTML=u,n=I(),i=b("label"),i.innerHTML=f,d=I(),v=A(r[0]),E=I(),$=b("div"),L=new ae(!1),Q=I(),T=b("div"),N=new ae(!1),this.h()},l(S){e=w(S,"DIV",{class:!0});var D=k(e);t=w(D,"DIV",{class:!0});var Y=k(t);l=w(Y,"DIV",{class:!0});var V=k(l);s=w(V,"INPUT",{type:!0,class:!0}),o=C(V),a=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),P(a)!=="svelte-1kkitpn"&&(a.innerHTML=c),_=q(V,`
			|
			`),h=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),P(h)!=="svelte-1r6uq03"&&(h.innerHTML=u),n=C(V),i=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),P(i)!=="svelte-u6pb5v"&&(i.innerHTML=f),V.forEach(g),d=C(Y),v=q(Y,r[0]),Y.forEach(g),E=C(D),$=w(D,"DIV",{class:!0});var le=k($);L=ne(le,!1),le.forEach(g),Q=C(D),T=w(D,"DIV",{class:!0});var se=k(T);N=ne(se,!1),se.forEach(g),D.forEach(g),this.h()},h(){p(s,"type","button"),s.value="SEND",p(s,"class","border pl-2 pr-2 mr-5 bg-blue-600 text-white rounded-md"),p(a,"for","old"),p(h,"for","new"),p(i,"for","new"),p(l,"class","w-full border-2 border-b-black"),p(t,"class","border w-full h-[73vh] p-1"),L.a=null,p($,"class","border w-full h-[73vh] p-1"),N.a=null,p(T,"class","border w-full h-[73vh] p-1"),p(e,"class","flex flex-col justify-evenly border w-full h-[73vh] p-1")},m(S,D){y(S,e,D),m(e,t),m(t,l),m(l,s),m(l,o),m(l,a),m(l,_),m(l,h),m(l,n),m(l,i),m(t,d),m(t,v),m(e,E),m(e,$),L.m(r[1],$),m(e,Q),m(e,T),N.m(r[1],T),X||(te=M(s,"click",r[2]),X=!0)},p(S,[D]){D&1&&R(v,S[0]),D&2&&L.p(S[1]),D&2&&N.p(S[1])},i:x,o:x,d(S){S&&g(e),X=!1,te()}}}function we(r,e,t){let l;ve(r,Z,u=>t(1,l=u));let{msg:s}=e,o=[];const a=async()=>{if(o=c(),s.length<=1){alert("Api message can not be send with nothing, Select the api to be tested and enter the correct test data.");return}if(o.length==0){alert("The IP address of the server to be tested cannot be empty. Select at least one of the server IP addresses to send test information.");return}console.log(`Sending msg ${s} to ${o}`);let u=`${o.toString()}>${s}`;_(u)},c=()=>{let u=[],n=document.getElementsByName("test_srv_list");for(let i=0;i<n.length;i++){let f=n[i];f.checked&&u.push(f.value)}return console.log(u),u},_=u=>{let n="",i=new WebSocket("ws://localhost:30000");i.onopen=function(f){console.log("[open] Connection established"),console.log("Sending to server"),i.send(u)},i.onmessage=function(f){console.log(`[message] Data received from server: ${f.data}`),n=f.data,console.log("callback_msg=",n),h(f.data)},i.onclose=function(f){f.wasClean?console.log(`[close] Connection closed cleanly, code=${f.code} reason=${f.reason}`):console.log("[close] Connection died")},i.onerror=function(f){console.log(`[error]${JSON.stringify(f,null,4)}`)}},h=u=>{Z.update(n=>u)};return G(()=>{console.log("msg:",s,s.length)}),r.$$set=u=>{"msg"in u&&t(0,s=u.msg)},console.log(Z),[s,l,a]}class $e extends B{constructor(e){super(),U(this,e,we,be,j,{msg:0})}}function oe(r,e,t){const l=r.slice();return l[4]=e[t],l[5]=e,l[6]=t,l}function ue(r){let e,t=(r[0].api_content===""?"":r[0].api_content)+"",l,s;return{c(){e=b("div"),l=A(t),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=k(e);l=q(a,t),a.forEach(g),this.h()},h(){p(e,"class",s=r[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")},m(o,a){y(o,e,a),m(e,l)},p(o,a){a&1&&t!==(t=(o[0].api_content===""?"":o[0].api_content)+"")&&R(l,t),a&1&&s!==(s=o[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")&&p(e,"class",s)},d(o){o&&g(e)}}}function ce(r){let e,t=H(r[0].api_param),l=[];for(let s=0;s<t.length;s+=1)l[s]=fe(oe(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=re()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=re()},m(s,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,o);y(s,e,o)},p(s,o){if(o&1){t=H(s[0].api_param);let a;for(a=0;a<t.length;a+=1){const c=oe(s,t,a);l[a]?l[a].p(c,o):(l[a]=fe(c),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(s){s&&g(e),ee(l,s)}}}function fe(r){let e,t,l=r[4].key+"",s,o,a,c,_,h,u,n,i,f;function d(){r[2].call(a,r[5],r[6])}function v(){return r[3](r[4],r[5],r[6])}return{c(){e=b("div"),t=b("label"),s=A(l),o=A("="),a=b("input"),n=I(),this.h()},l(E){e=w(E,"DIV",{class:!0});var $=k(e);t=w($,"LABEL",{for:!0,class:!0});var L=k(t);s=q(L,l),o=q(L,"="),a=w(L,"INPUT",{type:!0,name:!0,id:!0,class:!0}),L.forEach(g),n=C($),$.forEach(g),this.h()},h(){p(a,"type","text"),p(a,"name",c=r[4].key),p(a,"id",_=r[4].key),a.required=h=r[4].is_required,p(a,"class","w-[24vw] border float-right text-left text-slate-600 bg-slate-300"),p(t,"for",u=r[4].key),p(t,"class","w-[10vw]"),p(e,"class","border")},m(E,$){y(E,e,$),m(e,t),m(t,s),m(t,o),m(t,a),ie(a,r[4].value),m(e,n),i||(f=[M(a,"input",d),M(a,"change",v)],i=!0)},p(E,$){r=E,$&1&&l!==(l=r[4].key+"")&&R(s,l),$&1&&c!==(c=r[4].key)&&p(a,"name",c),$&1&&_!==(_=r[4].key)&&p(a,"id",_),$&1&&h!==(h=r[4].is_required)&&(a.required=h),$&1&&a.value!==r[4].value&&ie(a,r[4].value),$&1&&u!==(u=r[4].key)&&p(t,"for",u)},d(E){E&&g(e),i=!1,me(f)}}}function ke(r){let e,t,l,s,o,a,c,_,h=r[0]!=null&&ue(r),u=r[0]!=null&&ce(r);return c=new $e({props:{msg:r[1]}}),{c(){e=b("div"),h&&h.c(),t=I(),l=b("div"),s=b("div"),o=b("div"),u&&u.c(),a=I(),z(c.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=k(e);h&&h.l(i),i.forEach(g),t=C(n),l=w(n,"DIV",{class:!0});var f=k(l);s=w(f,"DIV",{class:!0});var d=k(s);o=w(d,"DIV",{class:!0});var v=k(o);u&&u.l(v),v.forEach(g),a=C(d),J(c.$$.fragment,d),d.forEach(g),f.forEach(g),this.h()},h(){p(e,"class","border-2 bg-white h-[7vh] w-full p-1 flex items-center"),p(o,"class","border w-[55vw] h-[73vh] p-1"),p(s,"class","flex flex-row justify-evenly"),p(l,"class","bg-white h-[73vh] p-1")},m(n,i){y(n,e,i),h&&h.m(e,null),y(n,t,i),y(n,l,i),m(l,s),m(s,o),u&&u.m(o,null),m(s,a),O(c,s,null),_=!0},p(n,[i]){n[0]!=null?h?h.p(n,i):(h=ue(n),h.c(),h.m(e,null)):h&&(h.d(1),h=null),n[0]!=null?u?u.p(n,i):(u=ce(n),u.c(),u.m(o,null)):u&&(u.d(1),u=null);const f={};i&2&&(f.msg=n[1]),c.$set(f)},i(n){_||(W(c.$$.fragment,n),_=!0)},o(n){F(c.$$.fragment,n),_=!1},d(n){n&&(g(e),g(t),g(l)),h&&h.d(),u&&u.d(),K(c)}}}function Ee(r,e,t){let{api:l}=e,s="";function o(c,_){c[_].value=this.value,t(0,l)}const a=(c,_,h)=>t(0,_[h].value=c.value.toUpperCase(),l);return r.$$set=c=>{"api"in c&&t(0,l=c.api)},r.$$.update=()=>{if(r.$$.dirty&1){let c="";l!=null&&l.api_param.forEach(_=>{c+=`${_.key}=${_.value.includes(" ")&&_.key!="HDR"?`"${_.value.toUpperCase()}" `:`${_.value.toUpperCase()} `} `}),t(1,s=`${l==null?void 0:l.api_name} ${c}`)}},[l,s,o,a]}class ye extends B{constructor(e){super(),U(this,e,Ee,ke,j,{api:0})}}function de(r,e,t){const l=r.slice();return l[1]=e[t],l}function he(r){let e,t,l,s,o;return{c(){e=b("input"),this.h()},l(a){e=w(a,"INPUT",{type:!0,class:!0}),this.h()},h(){p(e,"type","button"),e.value=t=r[1].api_name,p(e,"class",l="border "+(r[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")},m(a,c){y(a,e,c),s||(o=M(e,"click",r[2]),s=!0)},p(a,c){c&1&&t!==(t=a[1].api_name)&&(e.value=t),c&1&&l!==(l="border "+(a[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")&&p(e,"class",l)},d(a){a&&g(e),s=!1,o()}}}function Ie(r){let e,t,l="API LIST:",s,o,a,c,_,h=H(r[0]),u=[];for(let n=0;n<h.length;n+=1)u[n]=he(de(r,h,n));return c=new ye({props:{api:r[1]}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=I(),o=b("div");for(let n=0;n<u.length;n+=1)u[n].c();a=I(),z(c.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=k(e);t=w(i,"SPAN",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1j6fakd"&&(t.textContent=l),s=C(i),o=w(i,"DIV",{class:!0});var f=k(o);for(let d=0;d<u.length;d+=1)u[d].l(f);f.forEach(g),i.forEach(g),a=C(n),J(c.$$.fragment,n),this.h()},h(){p(t,"class","border border-t-0 border-l-0 border-r-0"),p(o,"class","h-[12vh] w-full float-left overflow-y-scroll scroll-auto"),p(e,"class","border bg-white h-[15vh] p-1")},m(n,i){y(n,e,i),m(e,t),m(e,s),m(e,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(o,null);y(n,a,i),O(c,n,i),_=!0},p(n,[i]){if(i&5){h=H(n[0]);let d;for(d=0;d<h.length;d+=1){const v=de(n,h,d);u[d]?u[d].p(v,i):(u[d]=he(v),u[d].c(),u[d].m(o,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=h.length}const f={};i&2&&(f.api=n[1]),c.$set(f)},i(n){_||(W(c.$$.fragment,n),_=!0)},o(n){F(c.$$.fragment,n),_=!1},d(n){n&&(g(e),g(a)),ee(u,n),K(c,n)}}}function Ce(r,e,t){let{api_list:l=[]}=e,s={id:0,srv_id:0,api_name:"",api_content:"",api_param:[],test_count:0,is_inuse:"Y"};G(()=>{console.log(l)});const o=a=>{a.preventDefault();const c=a.target.getAttribute("value");t(1,s=l.find(_=>_.api_name===c)),console.log(s)};return r.$$set=a=>{"api_list"in a&&t(0,l=a.api_list)},[l,s,o]}class De extends B{constructor(e){super(),U(this,e,Ce,Ie,j,{api_list:0})}}function _e(r,e,t){const l=r.slice();return l[3]=e[t],l}function pe(r){let e,t,l,s,o,a,c,_=r[3].srv_name+"",h,u,n,i,f;return{c(){e=b("label"),t=b("input"),c=I(),h=A(_),u=I(),this.h()},l(d){e=w(d,"LABEL",{for:!0});var v=k(e);t=w(v,"INPUT",{type:!0,name:!0,id:!0,"data-srv_id":!0,class:!0}),c=C(v),h=q(v,_),u=C(v),v.forEach(g),this.h()},h(){p(t,"type","radio"),p(t,"name","srvlist"),p(t,"id",l=r[3].id),t.value=s=r[3].srv_name,t.checked=o=r[3].id=="1",p(t,"data-srv_id",a=r[3].id),p(t,"class","border text-left w-auto p-0.5 hover:text-white hover:bg-red-500 focus:bg-red-600 focus:text-white rounded-sm"),p(e,"for",n=r[3].id)},m(d,v){y(d,e,v),m(e,t),m(e,c),m(e,h),m(e,u),i||(f=M(t,"click",r[2]),i=!0)},p(d,v){v&1&&l!==(l=d[3].id)&&p(t,"id",l),v&1&&s!==(s=d[3].srv_name)&&(t.value=s),v&1&&o!==(o=d[3].id=="1")&&(t.checked=o),v&1&&a!==(a=d[3].id)&&p(t,"data-srv_id",a),v&1&&_!==(_=d[3].srv_name+"")&&R(h,_),v&1&&n!==(n=d[3].id)&&p(e,"for",n)},d(d){d&&g(e),i=!1,f()}}}function Le(r){let e,t,l="SRV LIST:",s,o,a,c,_,h,u=H(r[0]),n=[];for(let i=0;i<u.length;i+=1)n[i]=pe(_e(r,u,i));return _=new De({props:{api_list:r[1].api_list}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=I(),o=b("div");for(let i=0;i<n.length;i+=1)n[i].c();a=I(),c=b("div"),z(_.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var f=k(e);t=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-11uywqa"&&(t.textContent=l),s=C(f),o=w(f,"DIV",{class:!0});var d=k(o);for(let E=0;E<n.length;E+=1)n[E].l(d);d.forEach(g),f.forEach(g),a=C(i),c=w(i,"DIV",{class:!0});var v=k(c);J(_.$$.fragment,v),v.forEach(g),this.h()},h(){p(t,"class","border-t-0 border-l-0 border-r-0 border"),p(o,"class","flex flex-col"),p(e,"class","border w-[12vw] p-1"),p(c,"class","border w-[90vw] ml-1")},m(i,f){y(i,e,f),m(e,t),m(e,s),m(e,o);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(o,null);y(i,a,f),y(i,c,f),O(_,c,null),h=!0},p(i,[f]){if(f&5){u=H(i[0]);let v;for(v=0;v<u.length;v+=1){const E=_e(i,u,v);n[v]?n[v].p(E,f):(n[v]=pe(E),n[v].c(),n[v].m(o,null))}for(;v<n.length;v+=1)n[v].d(1);n.length=u.length}const d={};f&2&&(d.api_list=i[1].api_list),_.$set(d)},i(i){h||(W(_.$$.fragment,i),h=!0)},o(i){F(_.$$.fragment,i),h=!1},d(i){i&&(g(e),g(a),g(c)),ee(n,i),K(_)}}}function Se(r,e,t){let l=[],s={id:"",srv_name:"",default_hdr:"",api_list:[]};return G(async()=>{const c=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();t(0,l=c),console.log(l),t(1,s=l[0])}),[l,s,a=>{let c=a.target.dataset.srv_id;t(1,s=l[c-1])}]}class Ve extends B{constructor(e){super(),U(this,e,Se,Le,j,{})}}function Te(r){let e,t,l;return t=new Ve({}),{c(){e=b("div"),z(t.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=k(e);J(t.$$.fragment,o),o.forEach(g),this.h()},h(){p(e,"class","flex flex-row justify-start border w-full h-screen p-1")},m(s,o){y(s,e,o),O(t,e,null),l=!0},p:x,i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&g(e),K(t)}}}function Ae(r){let e="";return G(async()=>{e=await(await fetch("http://localhost:8082/api/test/hello",{method:"GET"})).json(),console.log(e)}),[]}class Me extends B{constructor(e){super(),U(this,e,Ae,Te,j,{})}}export{Me as component};
