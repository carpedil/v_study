import{s as j,n as x,e as ve,o as Y,r as me}from"../chunks/scheduler.e108d1fd.js";import{S as B,i as U,g as b,s as I,m as q,H as ae,h as w,j as k,c as C,x as H,n as A,f as g,C as ne,k as p,a as E,y as m,A as M,o as G,r as J,u as R,v as z,d as W,t as F,w as K,e as re,B as ee,z as ie}from"../chunks/index.3aeff6f3.js";import{e as N}from"../chunks/each.e59479a4.js";import{w as ge}from"../chunks/index.0378bb41.js";let Z=ge("");function be(r){let e,t,l,s,o,a,u='<input type="checkbox" value="10.9.64.28" id="old" name="test_srv_list"/> 10.9.64.28',_,h,c='<input type="checkbox" value="10.162.138.83" id="new" name="test_srv_list"/> 10.162.138.83',n,i,f=`<input type="checkbox" value="localhost:8090" id="local" name="test_srv_list" checked=""/> localhost(test
				only)`,d,v,y,$,S,Q,T,P,X,te;return{c(){e=b("div"),t=b("div"),l=b("div"),s=b("input"),o=I(),a=b("label"),a.innerHTML=u,_=q(`
			|
			`),h=b("label"),h.innerHTML=c,n=I(),i=b("label"),i.innerHTML=f,d=I(),v=q(r[0]),y=I(),$=b("div"),S=new ae(!1),Q=I(),T=b("div"),P=new ae(!1),this.h()},l(L){e=w(L,"DIV",{class:!0});var D=k(e);t=w(D,"DIV",{class:!0});var O=k(t);l=w(O,"DIV",{class:!0});var V=k(l);s=w(V,"INPUT",{type:!0,class:!0}),o=C(V),a=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),H(a)!=="svelte-1kkitpn"&&(a.innerHTML=u),_=A(V,`
			|
			`),h=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),H(h)!=="svelte-1r6uq03"&&(h.innerHTML=c),n=C(V),i=w(V,"LABEL",{for:!0,"data-svelte-h":!0}),H(i)!=="svelte-u6pb5v"&&(i.innerHTML=f),V.forEach(g),d=C(O),v=A(O,r[0]),O.forEach(g),y=C(D),$=w(D,"DIV",{class:!0});var le=k($);S=ne(le,!1),le.forEach(g),Q=C(D),T=w(D,"DIV",{class:!0});var se=k(T);P=ne(se,!1),se.forEach(g),D.forEach(g),this.h()},h(){p(s,"type","button"),s.value="SEND",p(s,"class","border pl-2 pr-2 mr-5 bg-blue-600 text-white rounded-md"),p(a,"for","old"),p(h,"for","new"),p(i,"for","new"),p(l,"class","w-full border-2 border-b-black"),p(t,"class","border w-full h-[73vh] p-1"),S.a=null,p($,"class","border w-full h-[73vh] p-1"),P.a=null,p(T,"class","border w-full h-[73vh] p-1"),p(e,"class","flex flex-col justify-evenly border w-full h-[73vh] p-1")},m(L,D){E(L,e,D),m(e,t),m(t,l),m(l,s),m(l,o),m(l,a),m(l,_),m(l,h),m(l,n),m(l,i),m(t,d),m(t,v),m(e,y),m(e,$),S.m(r[1],$),m(e,Q),m(e,T),P.m(r[1],T),X||(te=M(s,"click",r[2]),X=!0)},p(L,[D]){D&1&&G(v,L[0]),D&2&&S.p(L[1]),D&2&&P.p(L[1])},i:x,o:x,d(L){L&&g(e),X=!1,te()}}}function we(r,e,t){let l;ve(r,Z,c=>t(1,l=c));let{msg:s}=e,o=[];const a=async()=>{if(o=u(),s.length<=1){alert("Api message can not be send with nothing, Select the api to be tested and enter the correct test data.");return}if(o.length==0){alert("The IP address of the server to be tested cannot be empty. Select at least one of the server IP addresses to send test information.");return}console.log(`Sending msg ${s} to ${o}`);const n=await(await fetch("http://localhost:8082/api/message/send",{method:"POST",body:JSON.stringify({msg:s,srv_ip_list:o})})).json();console.log(n);let i=`${o.toString()}>${s}`;_(i)},u=()=>{let c=[],n=document.getElementsByName("test_srv_list");for(let i=0;i<n.length;i++){let f=n[i];f.checked&&c.push(f.value)}return console.log(c),c},_=c=>{let n="",i=new WebSocket("ws://localhost:30000");i.onopen=function(f){console.log("[open] Connection established"),console.log("Sending to server"),i.send(c)},i.onmessage=function(f){console.log(`[message] Data received from server: ${f.data}`),n=f.data,console.log("callback_msg=",n),h(f.data)},i.onclose=function(f){f.wasClean?console.log(`[close] Connection closed cleanly, code=${f.code} reason=${f.reason}`):console.log("[close] Connection died")},i.onerror=function(f){console.log(`[error]${JSON.stringify(f,null,4)}`)}},h=c=>{Z.update(n=>c)};return Y(()=>{console.log("msg:",s,s.length)}),r.$$set=c=>{"msg"in c&&t(0,s=c.msg)},console.log(Z),[s,l,a]}class $e extends B{constructor(e){super(),U(this,e,we,be,j,{msg:0})}}function oe(r,e,t){const l=r.slice();return l[4]=e[t],l[5]=e,l[6]=t,l}function ce(r){let e,t=(r[0].api_content===""?"":r[0].api_content)+"",l,s;return{c(){e=b("div"),l=q(t),this.h()},l(o){e=w(o,"DIV",{class:!0});var a=k(e);l=A(a,t),a.forEach(g),this.h()},h(){p(e,"class",s=r[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")},m(o,a){E(o,e,a),m(e,l)},p(o,a){a&1&&t!==(t=(o[0].api_content===""?"":o[0].api_content)+"")&&G(l,t),a&1&&s!==(s=o[0].api_content===""?"":"w-full bg-blue-500 p-0.5 text-sm text-red-100 rounded-md overflow-x-scroll")&&p(e,"class",s)},d(o){o&&g(e)}}}function ue(r){let e,t=N(r[0].api_param),l=[];for(let s=0;s<t.length;s+=1)l[s]=fe(oe(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=re()},l(s){for(let o=0;o<l.length;o+=1)l[o].l(s);e=re()},m(s,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,o);E(s,e,o)},p(s,o){if(o&1){t=N(s[0].api_param);let a;for(a=0;a<t.length;a+=1){const u=oe(s,t,a);l[a]?l[a].p(u,o):(l[a]=fe(u),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(s){s&&g(e),ee(l,s)}}}function fe(r){let e,t,l=r[4].key+"",s,o,a,u,_,h,c,n,i,f;function d(){r[2].call(a,r[5],r[6])}function v(){return r[3](r[4],r[5],r[6])}return{c(){e=b("div"),t=b("label"),s=q(l),o=q("="),a=b("input"),n=I(),this.h()},l(y){e=w(y,"DIV",{class:!0});var $=k(e);t=w($,"LABEL",{for:!0,class:!0});var S=k(t);s=A(S,l),o=A(S,"="),a=w(S,"INPUT",{type:!0,name:!0,id:!0,class:!0}),S.forEach(g),n=C($),$.forEach(g),this.h()},h(){p(a,"type","text"),p(a,"name",u=r[4].key),p(a,"id",_=r[4].key),a.required=h=r[4].is_required,p(a,"class","w-[24vw] border float-right text-left text-slate-600 bg-slate-300"),p(t,"for",c=r[4].key),p(t,"class","w-[10vw]"),p(e,"class","border")},m(y,$){E(y,e,$),m(e,t),m(t,s),m(t,o),m(t,a),ie(a,r[4].value),m(e,n),i||(f=[M(a,"input",d),M(a,"change",v)],i=!0)},p(y,$){r=y,$&1&&l!==(l=r[4].key+"")&&G(s,l),$&1&&u!==(u=r[4].key)&&p(a,"name",u),$&1&&_!==(_=r[4].key)&&p(a,"id",_),$&1&&h!==(h=r[4].is_required)&&(a.required=h),$&1&&a.value!==r[4].value&&ie(a,r[4].value),$&1&&c!==(c=r[4].key)&&p(t,"for",c)},d(y){y&&g(e),i=!1,me(f)}}}function ke(r){let e,t,l,s,o,a,u,_,h=r[0]!=null&&ce(r),c=r[0]!=null&&ue(r);return u=new $e({props:{msg:r[1]}}),{c(){e=b("div"),h&&h.c(),t=I(),l=b("div"),s=b("div"),o=b("div"),c&&c.c(),a=I(),J(u.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=k(e);h&&h.l(i),i.forEach(g),t=C(n),l=w(n,"DIV",{class:!0});var f=k(l);s=w(f,"DIV",{class:!0});var d=k(s);o=w(d,"DIV",{class:!0});var v=k(o);c&&c.l(v),v.forEach(g),a=C(d),R(u.$$.fragment,d),d.forEach(g),f.forEach(g),this.h()},h(){p(e,"class","border-2 bg-white h-[7vh] w-full p-1 flex items-center"),p(o,"class","border w-[55vw] h-[73vh] p-1"),p(s,"class","flex flex-row justify-evenly"),p(l,"class","bg-white h-[73vh] p-1")},m(n,i){E(n,e,i),h&&h.m(e,null),E(n,t,i),E(n,l,i),m(l,s),m(s,o),c&&c.m(o,null),m(s,a),z(u,s,null),_=!0},p(n,[i]){n[0]!=null?h?h.p(n,i):(h=ce(n),h.c(),h.m(e,null)):h&&(h.d(1),h=null),n[0]!=null?c?c.p(n,i):(c=ue(n),c.c(),c.m(o,null)):c&&(c.d(1),c=null);const f={};i&2&&(f.msg=n[1]),u.$set(f)},i(n){_||(W(u.$$.fragment,n),_=!0)},o(n){F(u.$$.fragment,n),_=!1},d(n){n&&(g(e),g(t),g(l)),h&&h.d(),c&&c.d(),K(u)}}}function ye(r,e,t){let{api:l}=e,s="";function o(u,_){u[_].value=this.value,t(0,l)}const a=(u,_,h)=>t(0,_[h].value=u.value.toUpperCase(),l);return r.$$set=u=>{"api"in u&&t(0,l=u.api)},r.$$.update=()=>{if(r.$$.dirty&1){let u="";l!=null&&l.api_param.forEach(_=>{u+=`${_.key}=${_.value.includes(" ")&&_.key!="HDR"?`"${_.value.toUpperCase()}" `:`${_.value.toUpperCase()} `} `}),t(1,s=`${l==null?void 0:l.api_name} ${u}`)}},[l,s,o,a]}class Ee extends B{constructor(e){super(),U(this,e,ye,ke,j,{api:0})}}function de(r,e,t){const l=r.slice();return l[1]=e[t],l}function he(r){let e,t,l,s,o;return{c(){e=b("input"),this.h()},l(a){e=w(a,"INPUT",{type:!0,class:!0}),this.h()},h(){p(e,"type","button"),e.value=t=r[1].api_name,p(e,"class",l="border "+(r[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")},m(a,u){E(a,e,u),s||(o=M(e,"click",r[2]),s=!0)},p(a,u){u&1&&t!==(t=a[1].api_name)&&(e.value=t),u&1&&l!==(l="border "+(a[1].is_inuse=="Y"?"bg-green-400":"bg-red-400 ")+" p-1 m-1 text-sm text-yellow-50 hover:bg-blue-500 active:bg-blue-500 focus:bg-blue-500 rounded-md")&&p(e,"class",l)},d(a){a&&g(e),s=!1,o()}}}function Ie(r){let e,t,l="API LIST:",s,o,a,u,_,h=N(r[0]),c=[];for(let n=0;n<h.length;n+=1)c[n]=he(de(r,h,n));return u=new Ee({props:{api:r[1]}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=I(),o=b("div");for(let n=0;n<c.length;n+=1)c[n].c();a=I(),J(u.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=k(e);t=w(i,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1j6fakd"&&(t.textContent=l),s=C(i),o=w(i,"DIV",{class:!0});var f=k(o);for(let d=0;d<c.length;d+=1)c[d].l(f);f.forEach(g),i.forEach(g),a=C(n),R(u.$$.fragment,n),this.h()},h(){p(t,"class","border border-t-0 border-l-0 border-r-0"),p(o,"class","h-[12vh] w-full float-left overflow-y-scroll scroll-auto"),p(e,"class","border bg-white h-[15vh] p-1")},m(n,i){E(n,e,i),m(e,t),m(e,s),m(e,o);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(o,null);E(n,a,i),z(u,n,i),_=!0},p(n,[i]){if(i&5){h=N(n[0]);let d;for(d=0;d<h.length;d+=1){const v=de(n,h,d);c[d]?c[d].p(v,i):(c[d]=he(v),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=h.length}const f={};i&2&&(f.api=n[1]),u.$set(f)},i(n){_||(W(u.$$.fragment,n),_=!0)},o(n){F(u.$$.fragment,n),_=!1},d(n){n&&(g(e),g(a)),ee(c,n),K(u,n)}}}function Ce(r,e,t){let{api_list:l=[]}=e,s={id:0,srv_id:0,api_name:"",api_content:"",api_param:[],test_count:0,is_inuse:"Y"};Y(()=>{console.log(l)});const o=a=>{a.preventDefault();const u=a.target.getAttribute("value");t(1,s=l.find(_=>_.api_name===u)),console.log(s)};return r.$$set=a=>{"api_list"in a&&t(0,l=a.api_list)},[l,s,o]}class De extends B{constructor(e){super(),U(this,e,Ce,Ie,j,{api_list:0})}}function _e(r,e,t){const l=r.slice();return l[3]=e[t],l}function pe(r){let e,t,l,s,o,a,u,_=r[3].srv_name+"",h,c,n,i,f;return{c(){e=b("label"),t=b("input"),u=I(),h=q(_),c=I(),this.h()},l(d){e=w(d,"LABEL",{for:!0});var v=k(e);t=w(v,"INPUT",{type:!0,name:!0,id:!0,"data-srv_id":!0,class:!0}),u=C(v),h=A(v,_),c=C(v),v.forEach(g),this.h()},h(){p(t,"type","radio"),p(t,"name","srvlist"),p(t,"id",l=r[3].id),t.value=s=r[3].srv_name,t.checked=o=r[3].id=="1",p(t,"data-srv_id",a=r[3].id),p(t,"class","border text-left w-auto p-0.5 hover:text-white hover:bg-red-500 focus:bg-red-600 focus:text-white rounded-sm"),p(e,"for",n=r[3].id)},m(d,v){E(d,e,v),m(e,t),m(e,u),m(e,h),m(e,c),i||(f=M(t,"click",r[2]),i=!0)},p(d,v){v&1&&l!==(l=d[3].id)&&p(t,"id",l),v&1&&s!==(s=d[3].srv_name)&&(t.value=s),v&1&&o!==(o=d[3].id=="1")&&(t.checked=o),v&1&&a!==(a=d[3].id)&&p(t,"data-srv_id",a),v&1&&_!==(_=d[3].srv_name+"")&&G(h,_),v&1&&n!==(n=d[3].id)&&p(e,"for",n)},d(d){d&&g(e),i=!1,f()}}}function Se(r){let e,t,l="SRV LIST:",s,o,a,u,_,h,c=N(r[0]),n=[];for(let i=0;i<c.length;i+=1)n[i]=pe(_e(r,c,i));return _=new De({props:{api_list:r[1].api_list}}),{c(){e=b("div"),t=b("span"),t.textContent=l,s=I(),o=b("div");for(let i=0;i<n.length;i+=1)n[i].c();a=I(),u=b("div"),J(_.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var f=k(e);t=w(f,"SPAN",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-11uywqa"&&(t.textContent=l),s=C(f),o=w(f,"DIV",{class:!0});var d=k(o);for(let y=0;y<n.length;y+=1)n[y].l(d);d.forEach(g),f.forEach(g),a=C(i),u=w(i,"DIV",{class:!0});var v=k(u);R(_.$$.fragment,v),v.forEach(g),this.h()},h(){p(t,"class","border-t-0 border-l-0 border-r-0 border"),p(o,"class","flex flex-col"),p(e,"class","border w-[12vw] p-1"),p(u,"class","border w-[90vw] ml-1")},m(i,f){E(i,e,f),m(e,t),m(e,s),m(e,o);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(o,null);E(i,a,f),E(i,u,f),z(_,u,null),h=!0},p(i,[f]){if(f&5){c=N(i[0]);let v;for(v=0;v<c.length;v+=1){const y=_e(i,c,v);n[v]?n[v].p(y,f):(n[v]=pe(y),n[v].c(),n[v].m(o,null))}for(;v<n.length;v+=1)n[v].d(1);n.length=c.length}const d={};f&2&&(d.api_list=i[1].api_list),_.$set(d)},i(i){h||(W(_.$$.fragment,i),h=!0)},o(i){F(_.$$.fragment,i),h=!1},d(i){i&&(g(e),g(a),g(u)),ee(n,i),K(_)}}}function Le(r,e,t){let l=[],s={id:"",srv_name:"",default_hdr:"",api_list:[]};return Y(async()=>{const u=await(await fetch("http://localhost:8082/api/srv/list",{method:"GET"})).json();t(0,l=u),console.log(l),t(1,s=l[0])}),[l,s,a=>{let u=a.target.dataset.srv_id;t(1,s=l[u-1])}]}class Ve extends B{constructor(e){super(),U(this,e,Le,Se,j,{})}}function Te(r){let e,t,l;return t=new Ve({}),{c(){e=b("div"),J(t.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var o=k(e);R(t.$$.fragment,o),o.forEach(g),this.h()},h(){p(e,"class","flex flex-row justify-start border w-full h-screen p-1")},m(s,o){E(s,e,o),z(t,e,null),l=!0},p:x,i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&g(e),K(t)}}}function qe(r){let e="";return Y(async()=>{e=await(await fetch("http://localhost:8082/api/test/hello",{method:"GET"})).json(),console.log(e)}),[]}class Me extends B{constructor(e){super(),U(this,e,qe,Te,j,{})}}export{Me as component};
